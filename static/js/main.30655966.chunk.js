(this.webpackJsonpjsminion=this.webpackJsonpjsminion||[]).push([[0],[,,,,,,function(e){e.exports=JSON.parse('{"victory":[{"name":"Estate","cost":2,"victory":1,"type":"Victory"},{"name":"Duchy","cost":5,"victory":3,"type":"Victory"},{"name":"Province","cost":8,"victory":6,"type":"Victory"},{"name":"Curse","cost":0,"victory":-1,"type":"Victory"}],"treasure":[{"name":"Copper","cost":0,"treasure":1,"type":"Treasure"},{"name":"Silver","cost":3,"treasure":2,"type":"Treasure"},{"name":"Gold","cost":6,"treasure":3,"type":"Treasure"}],"action":[{"name":"Village","cost":3,"actions":2,"cards":1,"type":"Action"},{"name":"Smithy","cost":4,"cards":3,"type":"Action"},{"name":"Market","cost":5,"actions":1,"cards":1,"buys":1,"treasure":1,"type":"Action"},{"name":"Festival","cost":5,"actions":2,"buys":1,"treasures":2,"type":"Action"},{"name":"Laboratory","cost":5,"cards":2,"actions":1,"type":"Action"},{"name":"Chapel","cost":2,"instructions":"Trash up to 4 cards from your hand.","discardTrash":"trash 4|up-to","type":"Action"},{"name":"Cellar","cost":2,"actions":1,"instructions":"Discard any number of cards, then draw that many.","discardTrash":"discard any draw","type":"Action"},{"name":"Remodel","cost":4,"instructions":"Trash a card from your hand. Gain a card costing up to coin-2 more than it.","discardTrash":"trash 1 supply","supply":"discardTrash 2","type":"Action"},{"name":"Mine","cost":5,"instructions":"You may trash a Treasure from your hand. Gain a Treasure to your hand costing up to coin-3 more than it.","discardTrash":"trash 1 supply Treasure","supply":"discardTrash 3 hand","type":"Action"},{"name":"Moneylender","cost":4,"treasure":3,"instructions":"You may trash a Copper from your hand for +coin-3","discardTrash":"trash 1 auto Copper","type":"Action","hidden":"treasure"},{"name":"Vassal","cost":3,"treasure":2,"instructions":"Discard the top card of your deck. If it\'s an Action card, you may play it.","discardTrash":"discard 1|deck auto","deck":"Action [0] modal","type":"Action"},{"name":"Workshop","cost":3,"instructions":"Gain a card costing up to coin-4","supply":"gain 4","type":"Action"},{"name":"Harbinger","cost":3,"cards":1,"actions":1,"instructions":"Look through your discard pile. You may put a card from it onto your deck.","discard":"modal 1|deck","type":"Action"},{"name":"Merchant","cost":3,"cards":1,"actions":1,"instructions":"The first time you play a Silver this turn, +coin-1","buyPhase":"Silver 1 0 first","type":"Action"}]}')},,,function(e,a,t){e.exports=t(56)},,,,,function(e,a,t){},function(e,a,t){var c={"./Adventurer.jpg":16,"./Artisan.jpg":17,"./Bandit.jpg":18,"./Bureaucrat.jpg":19,"./Cellar.jpg":20,"./Chancellor.jpg":21,"./Chapel.jpg":22,"./Copper.jpg":23,"./Council_Room.jpg":24,"./Curse.jpg":25,"./Duchy.jpg":26,"./Estate.jpg":27,"./Feast.jpg":28,"./Festival.jpg":29,"./Gardens.jpg":30,"./Gold.jpg":31,"./Harbinger.jpg":32,"./Laboratory.jpg":33,"./Library.jpg":34,"./Market.jpg":35,"./Merchant.jpg":36,"./Militia.jpg":37,"./Mine.jpg":38,"./Moat.jpg":39,"./Moneylender.jpg":40,"./Poacher.jpg":41,"./Province.jpg":42,"./Remodel.jpg":43,"./Sentry.jpg":44,"./Silver.jpg":45,"./Smithy.jpg":46,"./Spy.jpg":47,"./Thief.jpg":48,"./Throne_Room.jpg":49,"./Vassal.jpg":50,"./Village.jpg":51,"./Witch.jpg":52,"./Woodcutter.jpg":53,"./Workshop.jpg":54};function n(e){var a=r(e);return t(a)}function r(e){if(!t.o(c,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=r,e.exports=n,n.id=15},function(e,a,t){e.exports=t.p+"static/media/Adventurer.be939008.jpg"},function(e,a,t){e.exports=t.p+"static/media/Artisan.4379fa98.jpg"},function(e,a,t){e.exports=t.p+"static/media/Bandit.9d98a617.jpg"},function(e,a,t){e.exports=t.p+"static/media/Bureaucrat.c539a1a4.jpg"},function(e,a,t){e.exports=t.p+"static/media/Cellar.963cda6a.jpg"},function(e,a,t){e.exports=t.p+"static/media/Chancellor.333df184.jpg"},function(e,a,t){e.exports=t.p+"static/media/Chapel.747b0f1e.jpg"},function(e,a,t){e.exports=t.p+"static/media/Copper.25a3a87b.jpg"},function(e,a,t){e.exports=t.p+"static/media/Council_Room.ace064e3.jpg"},function(e,a,t){e.exports=t.p+"static/media/Curse.b70192b7.jpg"},function(e,a,t){e.exports=t.p+"static/media/Duchy.d2c0c766.jpg"},function(e,a,t){e.exports=t.p+"static/media/Estate.c9ec060f.jpg"},function(e,a,t){e.exports=t.p+"static/media/Feast.e33241fa.jpg"},function(e,a,t){e.exports=t.p+"static/media/Festival.af0c9e52.jpg"},function(e,a,t){e.exports=t.p+"static/media/Gardens.2490700a.jpg"},function(e,a,t){e.exports=t.p+"static/media/Gold.df7287e6.jpg"},function(e,a,t){e.exports=t.p+"static/media/Harbinger.f0c114b5.jpg"},function(e,a,t){e.exports=t.p+"static/media/Laboratory.96f3a1b2.jpg"},function(e,a,t){e.exports=t.p+"static/media/Library.07857f88.jpg"},function(e,a,t){e.exports=t.p+"static/media/Market.70f1cd16.jpg"},function(e,a,t){e.exports=t.p+"static/media/Merchant.09ba9d2d.jpg"},function(e,a,t){e.exports=t.p+"static/media/Militia.b0b9a045.jpg"},function(e,a,t){e.exports=t.p+"static/media/Mine.9977d889.jpg"},function(e,a,t){e.exports=t.p+"static/media/Moat.ab3e6b16.jpg"},function(e,a,t){e.exports=t.p+"static/media/Moneylender.0480f84b.jpg"},function(e,a,t){e.exports=t.p+"static/media/Poacher.0964e482.jpg"},function(e,a,t){e.exports=t.p+"static/media/Province.6f81772e.jpg"},function(e,a,t){e.exports=t.p+"static/media/Remodel.fd52d3f6.jpg"},function(e,a,t){e.exports=t.p+"static/media/Sentry.7be7f767.jpg"},function(e,a,t){e.exports=t.p+"static/media/Silver.560c4fbe.jpg"},function(e,a,t){e.exports=t.p+"static/media/Smithy.3b2a2499.jpg"},function(e,a,t){e.exports=t.p+"static/media/Spy.a2aa11e0.jpg"},function(e,a,t){e.exports=t.p+"static/media/Thief.031b2660.jpg"},function(e,a,t){e.exports=t.p+"static/media/Throne_Room.8502a321.jpg"},function(e,a,t){e.exports=t.p+"static/media/Vassal.0c040b7c.jpg"},function(e,a,t){e.exports=t.p+"static/media/Village.595e2479.jpg"},function(e,a,t){e.exports=t.p+"static/media/Witch.e45eb845.jpg"},function(e,a,t){e.exports=t.p+"static/media/Woodcutter.157e926a.jpg"},function(e,a,t){e.exports=t.p+"static/media/Workshop.7873d057.jpg"},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var c,n=t(0),r=t.n(n),s=t(8),o=t.n(s),i=(t(14),t(3)),d=t(2),l=t(1),u=t(6),p=["Village","Smithy","Market","Cellar","Remodel","Mine","Moneylender","Vassal","Workshop","Harbinger"],m=function(e){return function(a){return a.path=e.filter((function(e){return e.includes(a.name)}))[0],a}},h=(c=t(15)).keys().map(c),y=["treasure","victory"],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{victory:u.victory.map(m(h)),treasure:u.treasure.map(m(h)),action:u.action.map(m(h)).filter((function(a){return e.includes(a.name)}))}},g=t(58),v=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=["red","blue","orange","green"],j=["actions","buys","treasure","cards"],E=function(e,a,t,c,n){var s=c||0===c?c:a?a.length:1,o=a&&a[0].end?a[0].end:t||"plays";return[r.a.createElement("div",{className:"log",key:"log".concat(Object(g.a)().slice(0,8))},r.a.createElement("p",{className:"".concat(a?"":"turn-log")},a?n?"\u2022":"":r.a.createElement("span",null,"Turn ",e.turn," -\xa0"),r.a.createElement("span",{className:"".concat(b[e.turnPlayer-1])},"P",e.player),a?r.a.createElement("span",null,"\xa0",o," ",!a||"Action"!==a[0].name&&"Buy"!==a[0].name&&"Coin"!==a[0].name?"":"+",r.a.createElement("span",{className:"Coin"===a[0].name?"coin":""},a&&a[0].end?"their":1!==s||n?s:"a"),r.a.createElement("span",{className:"".concat(a[0].type,"-text")},"\xa0","Coin"===a[0].name?"":r.a.createElement("span",null,a[0].name),1!==s&&"Treasure"!==a[0].type&&"Coin"!==a[0].name?"s":"")):""))]},S=function(e,a,t,c){var n=[];return n=n.concat(E(e,a,t,c)),a&&"Action"===a[0].type&&"buys"!==t&&j.forEach((function(t){var c="cards"===t?"draws":"gets",r="treasure"===t?"Coin":"cards"===t?t.slice(0,-1):v(t).slice(0,-1),s="cards"===t&&a&&isNaN(a[0].cards);a[0][t]&&!s&&(n=n.concat(E(e,[Object(d.a)({},a[0],{name:r})],c,a[0][t],!0)))})),n},O=function(e){for(var a,t,c=Object(i.a)(e),n=c.length;0!==n;)t=Math.floor(Math.random()*n),a=c[n-=1],c[n]=c[t],c[t]=a;return c},T=function(e,a){var t=0;return e.forEach((function(e){t=e[a]?t+e[a]:t})),t},k=function(e,a){return e.map((function(e){return e.type===a})).includes(!0)},N=function(e,a){return[a.concat(S(e,[{name:"Buy Phase",end:"enters"}])),"Buy",0]},x=function(e){if(!e.actions||!k(e.hand,"Action")){var a=N(e.gameState,e.logs),t=Object(l.a)(a,3);e.logs=t[0],e.phase=t[1],e.actions=t[2]}return Object(d.a)({},e,{discardTrashQueue:[],discardTrashState:!1})},C=function(e,a,t){var c=Object(i.a)(a),n=c.splice(0,e),r=Object(i.a)(t);return a.length<e&&(c=c.concat(O(r)),r=[],n=n.concat(c.splice(0,e-n.length))),[n,c,r]},M=function(e,a,t,c){var n=Object(i.a)(t),r=n.findIndex((function(a){return a===e})),s=n.splice(r,a);return[n,Object(i.a)(c).concat(s),s]},w=function(e,a){var t=e[a].split(" "),c=t[1],n="",r="";return c.includes("|")&&(n=(c=c.split("|"))[1],c=c[0]),c.includes("[")&&(r=(c=c.split("["))[1],c=""),c=isNaN(c)?c:parseInt(c),{card:e,type:t[0],amount:c,index:r,modifier:n,next:t[2]?[t[2],e[t[2]]]:[],restriction:t[3]}},A=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),c=t[0],s=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),d=i[0],u=i[1],p=e.live&&!e.card.empty&&!e.supply&&!e.modal&&("Treasure"===e.card.type||e.discardTrash);return Object(n.useEffect)((function(){u(e.altKey)}),[e.altKey]),r.a.createElement("div",{className:"card-info ".concat(e.card.empty||e.queued.includes(e.card)?"transparent":"")},e.count>1||e.supply||e.queued.includes(e.card)?r.a.createElement("p",{onClick:function(a){if(p){var t=e.limit-e.queued.length,c=t>e.count?e.count:t;e.onClick(e.card,c),a.stopPropagation()}},className:"card-stack".concat(p?"-live":"")},e.card.empty?0:e.count):"",r.a.createElement("div",{className:"card ".concat(e.card.type," ").concat("Curse"===e.card.name?"curse":""," ").concat(e.live&&!e.card.empty?"live":""),onClick:function(){e.live&&!e.card.empty&&e.onClick(e.card,1,e.destination?e.destination:!!e.supply)},onMouseOver:function(){s(!0)},onMouseOut:function(){s(!1)}},r.a.createElement("p",{className:"card-top"},e.card.name),r.a.createElement("div",{className:"card-btm"},r.a.createElement("p",{className:"card-side"},e.card.cost),r.a.createElement("p",null,e.card.type),r.a.createElement("p",{className:"card-side"},"\xa0")),r.a.createElement("div",{className:"full-card-wrapper ".concat(e.stacked?"lower-card":"")},r.a.createElement("div",{className:"full-card ".concat(e.card.type," ").concat(c&&d?"":"hidden"," ").concat(e.live?"full-card-live":""," ").concat("Curse"===e.card.name?"curse":"")},r.a.createElement("div",{className:"card-top"},r.a.createElement("p",null,e.card.name),r.a.createElement("div",{className:"".concat("Action"===e.card.type?"action":"card","-image"),style:{backgroundImage:"url(".concat(e.card.path,")")}}),"Action"===e.card.type?r.a.createElement("div",{className:"card-instructions"},r.a.createElement("div",{className:"perks"},["cards","actions","buys","treasure"].map((function(a){var t="treasure"===a?r.a.createElement("span",{className:"coin"},e.card[a]):e.card[a]>1?v(a):v(a).slice(0,-1);return e.card[a]&&!isNaN(e.card[a])&&e.card.hidden!==a?r.a.createElement("p",{key:a},"+",r.a.createElement("span",null,"treasure"!==a?e.card[a]:""," ",t)):""}))),r.a.createElement("div",{className:"instructions"},function(){var a=e.card.instructions?e.card.instructions:"";if(a.includes("coin-")){var t=(a=a.split("coin-"))[1].length>1?a[1].split(" "):[a[1]],c=a[0],n=t.shift();t=t.length>0?t.join(" "):"",a=r.a.createElement("div",null,c,r.a.createElement("span",{className:"coin"},n)," ",t)}return a}())):""),r.a.createElement("div",{className:"card-btm"},r.a.createElement("p",{className:"card-side"},e.card.cost),r.a.createElement("p",null,e.card.type),r.a.createElement("p",{className:"card-side"},"\xa0"))))))},P=function(e){return function(a,t){var c=0;return a[e]>t[e]?c=1:a[e]<t[e]&&(c=-1),c}},B=function(e){var a=[e.cards],t=1,c=[[],[],[]];if(e.sort){a[0].sort(P("name")),a[0].sort(P("type"));var n=a[0].filter((function(e){return"Action"===e.type})).sort(P("cost")),s=a[0].filter((function(e){return"Treasure"===e.type})).sort(P("cost")),o=a[0].filter((function(e){return"Victory"===e.type})).sort(P("cost"));a=e.supply?[s,o,n]:[n,s,o]}a.forEach((function(a,n){a.forEach((function(s,o){var i=e.phase===s.type&&!e.supply||"Buy"===e.phase&&"Treasure"===s.type&&!e.supply||("Buy"===e.phase||"supply"===e.phase)&&e.coin-e.coinMod>=s.cost&&e.supply||e.discardTrashState;if(a[o+1]&&a[o+1].name===s.name)t++;else{var d=e.cardQueue?e.cardQueue:[],l=Number.MAX_SAFE_INTEGER;if(e.discardTrashState&&!isNaN(e.discardTrashState.amount)&&(l=parseInt(e.discardTrashState.amount)),d.length>0){var u=0;d.forEach((function(e){e.name===s.name&&(u+=1)})),i=(t-=u)>0&&d.length<l}e.restriction&&(i=i&&(e.restriction===s.type||e.restriction===s.subType)),e.actionSupply&&(i=i&&e.supply),c[n].push(r.a.createElement("div",{key:"card".concat(n).concat(o),className:"inline"},r.a.createElement(A,{altKey:e.altKey,card:s,live:!!e.live||i,modal:e.modal,count:t,stacked:e.stacked,onClick:e.onClick,supply:e.supply,queued:d,limit:l,discardTrash:e.discardTrashState,destination:!!e.actionSupply&&e.actionSupply.destination}))),t=1}}))}));var i=c[0].concat(c[1]).concat(c[2]),d=e.title?r.a.createElement("p",{className:"red top-spaced"},e.title," (",e.cards.length,")"):"";return e.stacked?c.map((function(e,a){return r.a.createElement("div",{key:"stack".concat(a),className:"stack"},e)})):e.supply?c.map((function(e,a){return r.a.createElement("div",{key:"supply".concat(a),className:"supply"},e)})):r.a.createElement("div",null,d,r.a.createElement("div",{className:"Discard"===e.title?"discard-stack":""},i))},D=function(e){return r.a.createElement("div",null,r.a.createElement(B,{altKey:e.altKey,onClick:e.accept,cards:e.cards,live:e.live,title:e.title,modal:!0}),r.a.createElement("div",{className:"game-button start-button live",onClick:e.decline},v(e.buttonText)))},Q=function(e,a,t,c){var n,s=[],o=!1;t.logs=t.logs.concat(S(t.gameState,[e])),t.actions--;var i=M(e,a,t.hand,t.inPlay),u=Object(l.a)(i,3);if(t.hand=u[0],t.inPlay=u[1],n=u[2],t.treasure+=T(n,"treasure"),e.actions&&(t.actions+=e.actions),e.buys&&(t.buys+=e.buys),e.cards){var p=C(e.cards,t.deck,t.discard),m=Object(l.a)(p,3);s=m[0],t.deck=m[1],t.discard=m[2],s.length>0?t.hand=t.hand.concat(s):t.logs.pop()}var h=!!e.discardTrash&&w(e,"discardTrash"),y=!k(t.hand,"Action");if(e.buyPhase){var f=w(e,"buyPhase");console.log(f)}if(h)if(h.next&&"auto"===h.next[0]){var g=function(e,a,t,c){var n=[{name:"card".concat(t.modifier?" from ".concat(t.modifier):"")}];if(t.modifier&&"up-to"!==t.modifier){var s=w(e,t.modifier);switch(t.modifier){case"deck":a.deck.length<1&&(a=Object(d.a)({},a,{deck:a.discard,discard:[]}));var o=a.deck.splice(s.index,t.amount);if("modal"===s.next[0]&&o.length>0){var i=s.type===o[0].type;i?(a.actions++,a.menuScreen=r.a.createElement(D,{cards:o,accept:function(){a.menuScreen=null,a.hand=a.hand.concat(o[0]),a=Q(o[0],1,a,c),c.setTurnState(a)},decline:function(){a.actions--,0===(a=x(a)).actions&&c.setPhase("Buy"),a.hand.splice(a.hand.findIndex((function(e){return e===o[0]})),1);var e=a.logs.pop();a=Object(d.a)({},a,{discard:a.discard.concat(o),logs:a.logs.concat(E(a.gameState,n,"discards",1,!0)).concat(e),menuScreen:null}),c.setTurnState(a),c.setDiscardTrashState(!1)},buttonText:t.type,live:i,title:"You may play"})):o.length>0&&(a.discard=a.discard.concat(o),a.logs=a.logs.concat(E(a.gameState,n,"discards",1,!0)))}}}else{var l="discards",u=a.hand.findIndex((function(e){return e.name===t.restriction}));-1===u?(a.coinMod+=3,a.logs.pop()):("discard"===t.type?a.discard=a.discard.concat(a.hand.splice(u,t.amount)):(a.trash=a.trash.concat(a.hand.splice(u,t.amount)),l="trashes"),a.logs=a.logs.concat(E(a.gameState,n,l,t.amount,!0)))}var p=!k(a.hand,"Action");return[a,p]}(e,t,h,c),v=Object(l.a)(g,2);t=v[0],y=v[1]}else y=!1,c.setDiscardTrashState(h);else if(e.supply){var b=w(e,"supply");o={treasure:t.treasure,count:1,destination:b.next&&b.next[0]?b.next[0]:"discard"},t.treasure=b.amount}else if(e.discard){var j=w(e,"discard");switch(j.type){case"modal":t.discard.length>0&&(t.menuScreen=r.a.createElement(D,{cards:t.discard,accept:function(e){var a=M(e,j.amount,t.discard,t.deck),n=Object(l.a)(a,2);t.discard=n[0],t.deck=n[1],t.logs=t.logs.concat(E(t.gameState,[{name:"discard to deck"}],"moves",j.amount,!0)),t.menuScreen=!1,t=x(t),c.setTurnState(t)},decline:function(){c.setTurnState(Object(d.a)({},t,{menuScreen:!1}))},buttonText:"Decline",live:!0,title:"Choose ".concat(j.amount," to move from discard to deck")}))}}var O=!h||!(!h.next||"auto"!==h.next[0]);if(O=!t.menuScreen&&O,(!t.actions||y)&&O&&!o){var A=N(t.gameState,t.logs),P=Object(l.a)(A,3);t.logs=P[0],t.phase=P[1],t.actions=P[2]}return c.setActionSupply(o),t},V=function(e){var a=document.getElementById("log-sticker");return Object(n.useEffect)((function(){a&&a.scrollIntoView()}),[e.logs,a]),r.a.createElement("div",{className:"logs"},r.a.createElement("p",{className:"log-title"},"Log"),r.a.createElement("div",{className:"breakline"}),r.a.createElement("div",{className:"log-readout"},e.logs.length>1?e.logs:r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{id:"log-sticker"})))},I=function(e){return r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"hidden"},"VP ",r.a.createElement("span",{className:"red"},e.victoryPoints)," |\xa0"),r.a.createElement("span",null,"Action ",r.a.createElement("span",{className:"red"},e.actions)," |\xa0"),r.a.createElement("span",null,"Buys ",r.a.createElement("span",{className:"red"},e.buys)," |\xa0"),r.a.createElement("span",null,"Coin ",r.a.createElement("span",{className:"coin"},e.treasure-e.bought-e.coinMod)," "))},G=function(e){return r.a.createElement("div",{className:"trash game-button".concat(e.trash.length>0?" active":""),onClick:function(){e.trash.length>0&&(e.setModalContent([e.trash,"Trash"]),e.setShowModal(!0))}},"Trash (",e.trash.length,")")},K=function(e,a,t){return e.filter((function(e){return e[a]===t})).length},W=function(e){return r.a.createElement("div",{className:"button-display"},r.a.createElement("div",null,r.a.createElement("div",{className:"game-button red"},e.phase?"Your Turn - ".concat(e.phase," Phase"):"P2's Turn"),r.a.createElement("p",{className:"instructions red"},function(e,a,t,c){var n="";if(t){var r=t.modifier?"".concat(t.modifier.split("-").join(" ")," "):"",s=t.amount&&isNaN(t.amount)?"(s)":t.amount>1?"s":"";n="Select ".concat(r).concat(t.amount," card").concat(s).concat(c?"":" to ".concat(t.type))}else n=c?"Choose a Card":"Buy"===e?"Choose Cards to Buy (".concat(a,")"):"Choose Actions to play";return n}(e.phase,e.buys,e.discardTrashState,e.actionSupply),"\xa0"),e.actionSupply?"":r.a.createElement("div",null,r.a.createElement("div",{className:e.discardTrashState||!e.phase?"hidden":K(e.hand,"type","Treasure")>0&&"Buy"===e.phase?"game-button live":"button-space",onClick:e.playAllTreasure},K(e.hand,"type","Treasure")>0&&"Buy"===e.phase?"Play All Treasure (".concat(K(e.hand,"type","Treasure"),")"):" "),r.a.createElement("div",{className:"game-button live".concat(e.discardTrashState||!e.phase?"":" top-spaced"),onClick:e.discardTrashState?e.discardTrashCards:e.nextPhase},e.discardTrashState?"Confirm Card".concat(isNaN(e.discardTrashState.amount)||e.discardTrashState.amount>1?"s":""," to ").concat(e.discardTrashState.type," (").concat(e.discardTrashQueue.length,")"):e.phase?"End ".concat(e.phase," Phase"):"Start Turn"),r.a.createElement("div",{className:"game-button live top-spaced ".concat(e.discardTrashState&&e.discardTrashQueue.length>0?"":" hidden"),onClick:function(){e.setDiscardTrashQueue([])}},"Choose different cards"))),r.a.createElement("div",null,r.a.createElement("div",{className:"breakline"}),r.a.createElement("div",{className:"deck"},r.a.createElement("p",null,"Deck (",e.deck.length,")")),r.a.createElement("div",{className:"deck ".concat(e.discard.length>0?"active":""),onClick:function(){e.discard.length>0&&(e.setModalContent([e.discard,"Discard"]),e.setShowModal(!0))}},r.a.createElement("p",null,"Discard (",e.discard.length,")"))))},L=function(e){return r.a.createElement("div",{style:{display:e.show?"flex":"none"},className:"modal-bg",onClick:function(){return e.setShow(!1)}},r.a.createElement("div",{className:"modal-box",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"modal-top-row"},e.close?r.a.createElement("div",{className:"x-close-button",onClick:function(){return e.setShow(!1)}},"x"):""),r.a.createElement("div",{className:"modal-content"},e.children)))},R=function(e){return r.a.createElement(L,{close:!0,show:e.showModal,setShow:e.setShowModal,children:r.a.createElement(B,{altKey:e.altKey,cards:e.modalContent[0],title:e.modalContent[1]})})},_=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},e.phaseTitle),e.start?r.a.createElement("h1",null,"Dominion"):r.a.createElement("p",null,e.victory," Victory Points!"),r.a.createElement("div",{className:"game-button start-button live",onClick:e.onClick},e.button))};t(55);var F=function(){var e=Object(n.useState)(),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),u=o[0],m=o[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),b=v[0],j=v[1],A=Object(n.useState)([]),P=Object(l.a)(A,2),D=P[0],K=P[1],F=Object(n.useState)([[]]),Y=Object(l.a)(F,2),q=Y[0],H=Y[1],J=Object(n.useState)(!1),U=Object(l.a)(J,2),X=U[0],$=U[1],z=Object(n.useState)(!1),Z=Object(l.a)(z,2),ee=Z[0],ae=Z[1],te=Object(n.useState)([]),ce=Object(l.a)(te,2),ne=ce[0],re=ce[1],se=Object(n.useState)({turn:0,player:1,turnPlayer:1}),oe=Object(l.a)(se,2),ie=oe[0],de=oe[1],le=Object(n.useState)([]),ue=Object(l.a)(le,2),pe=ue[0],me=ue[1],he=Object(n.useState)([]),ye=Object(l.a)(he,2),fe=ye[0],ge=ye[1],ve=Object(n.useState)([]),be=Object(l.a)(ve,2),je=be[0],Ee=be[1],Se=Object(n.useState)([]),Oe=Object(l.a)(Se,2),Te=Oe[0],ke=Oe[1],Ne=Object(n.useState)(0),xe=Object(l.a)(Ne,2),Ce=xe[0],Me=xe[1],we=Object(n.useState)([]),Ae=Object(l.a)(we,2),Pe=Ae[0],Be=Ae[1],De=Object(n.useState)([]),Qe=Object(l.a)(De,2),Ve=Qe[0],Ie=Qe[1],Ge=Object(n.useState)(0),Ke=Object(l.a)(Ge,2),We=Ke[0],Le=Ke[1],Re=Object(n.useState)(0),_e=Object(l.a)(Re,2),Fe=_e[0],Ye=_e[1],qe=Object(n.useState)(0),He=Object(l.a)(qe,2),Je=He[0],Ue=He[1],Xe=Object(n.useState)(0),$e=Object(l.a)(Xe,2),ze=$e[0],Ze=$e[1],ea=Object(n.useState)(),aa=Object(l.a)(ea,2),ta=aa[0],ca=aa[1],na=Object(n.useState)(),ra=Object(l.a)(na,2),sa=ra[0],oa=ra[1],ia=function(){var e=O(function(){var e=[];return y.forEach((function(a){for(var t=0;t<("treasure"===a?7:3);t++)e.push(f()[a][0])})),e}());oa(T(e,"victory")),ge(e.splice(0,5)),me(e),Ie(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=y.concat("action"),t=[],c=function(a){f(e)[a].forEach((function(e,c){for(var n="treasure"===a?20*(3-c):"action"===a||"Curse"===e.name?10:8,r=0;r<n;r++)t.push(e)}))};return a.forEach(c),t}(p)),ke([]),Ee([]),re([]),Be([]),pa(null),c(null),ca(0),Ye(0),Ze(0),de(Object(d.a)({},ie,{turn:1}))},da=Object(n.useState)(r.a.createElement(_,{onClick:ia,phaseTitle:"Let's Play",start:!0,button:"Start Game"})),la=Object(l.a)(da,2),ua=la[0],pa=la[1],ma={gameState:ie,hand:Object(i.a)(fe),deck:Object(i.a)(pe),discard:Object(i.a)(Te),trash:Object(i.a)(Pe),inPlay:Object(i.a)(je),logs:Object(i.a)(ne),supply:Object(i.a)(Ve),discardTrashQueue:Object(i.a)(D),discardTrashState:!!b&&Object(d.a)({},b),actions:Je,buys:ze,treasure:Fe,phase:t,menuScreen:ua,coinMod:Ce},ha=function(e,a,n){ma.treasure=T(je,"treasure");var s=t===e.type?1:a;switch(t){case"Action":var o={setDiscardTrashState:j,setPhase:c,setActionSupply:ae,setTurnState:ya};if(e.type===t)ma=Q(e,s,ma,o);else{var u=N(ie,ma.logs),p=Object(l.a)(u,3);ma.logs=p[0],ma.phase=p[1],ma.actions=p[2]}break;case"Buy":var m=ze,h=sa;if(n){var y,f=M(e,1,Ve,ma.discard),v=Object(l.a)(f,3);ma.supply=v[0],ma.discard=v[1],y=v[2];var b=ma.supply.filter((function(a){return a.name===e.name})).length;if(h=e.victory?h+e.victory:h,!b&&(ca(ta+1),y=[Object(d.a)({},y[0],{empty:!0})],ma.supply=ma.supply.concat(y),"Province"===e.name||2===ta)){Ie(ma.supply),de(Object(d.a)({},ie,{turn:0})),ma.menuScreen=r.a.createElement(_,{onClick:ia,phaseTitle:"Game Over",victory:h,button:"Play Again"});break}Ie(ma.supply),Le(We+e.cost),m-=1,ma.logs=ma.logs.concat(S(ie,y,"buys"))}else if("Treasure"===e.type){var E,O=M(e,s,fe,je),x=Object(l.a)(O,3);ma.hand=x[0],ma.inPlay=x[1],E=x[2],ma.treasure+=T(E,"treasure"),ma.logs=ma.logs.concat(S(ie,[e],null,a))}else m=0;if(m<1||Fe-We-e.cost<1&&n){var w=Object(i.a)(pe);ma=Object(d.a)({},ma,{inPlay:[],discard:ma.discard.concat(je).concat(fe),hand:w.splice(0,5)}),m=0;var A=C(5,ma.deck,ma.discard),P=Object(l.a)(A,3);ma.hand=P[0],ma.deck=P[1],ma.discard=P[2],ma=Object(d.a)({},ma,{actions:0,treasure:0,coinMod:0,phase:null,logs:ma.logs.concat(S(ie,[{name:"turn",end:"ends"}]))}),Le(0),de(Object(d.a)({},ie,{turn:ie.turn+1}))}ma.buys=m,oa(h);break;default:var B=1===ie.turn&&1===ie.turnPlayer?[]:[r.a.createElement("div",{key:"log".concat(Object(g.a)().slice(0,8)),className:"spacer"})];if(ma.logs=ma.logs.concat(B.concat(S(ie))),ma.buys=1,k(fe,"Action"))ma.actions=1,ma.phase="Action";else{var D=N(ie,ma.logs),V=Object(l.a)(D,2);ma.logs=V[0],ma.phase=V[1]}}ya(ma)},ya=function(e){ge(e.hand),me(e.deck),ke(e.discard),Be(e.trash),Ee(e.inPlay),re(e.logs),Ie(e.supply),Ue(e.actions),Ze(e.buys),Ye(e.treasure),c(e.phase),pa(e.menuScreen),Me(e.coinMod)};return window.onkeydown=function(e){18===e.keyCode?$(!0):27===e.keyCode?m(!1):13===e.keyCode&&ua&&0===ie.turn&&ia()},window.onkeyup=function(e){18===e.keyCode&&$(!1)},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"supply-market"},r.a.createElement(B,{coin:Fe-We,phase:ee?"supply":t,onClick:ee?function(e,a,t){ma.logs=ma.logs.concat(E(ie,[Object(d.a)({},e,{name:"discard"===t?e.name:r.a.createElement("span",null,e.name,r.a.createElement("span",{className:"default-text"}," to their ",t))})],"gains",1,!0));var c=M(e,a,Ve,ma[t]),n=Object(l.a)(c,2);ma.supply=n[0],ma[t]=n[1],ma.treasure=ee.treasure,ma=x(ma),ya(ma),K(ma.discardTrashQueue),j(ma.discardTrashState),ae(!1)}:ha,actionSupply:ee,sort:!0,supply:!0,altKey:X,cards:Ve,coinMod:Ce,restriction:b?b.restriction:void 0})),r.a.createElement(V,{logs:ne}),r.a.createElement(I,{victoryPoints:sa,actions:Je,buys:ze,treasure:Fe,coinMod:Ce,bought:We}),r.a.createElement(G,{trash:Pe,setModalContent:H,setShowModal:m}),r.a.createElement("div",{className:"in-play"},r.a.createElement(B,{sort:!0,altKey:X,cards:je})),r.a.createElement("div",{className:"combo-mat"}),r.a.createElement(W,{buys:ze,actionSupply:ee,hand:fe,phase:t,discardTrashState:b,discardTrashQueue:D,setDiscardTrashQueue:K,deck:pe,setModalContent:H,setShowModal:m,discard:Te,playAllTreasure:function(){var e=fe.filter((function(e){return"Treasure"===e.type})),a=Object(i.a)(je).concat(e),t=e.filter((function(e,a,t){return t.indexOf(e)===a})),c=fe.filter((function(e){return"Treasure"!==e.type})),n=Object(i.a)(ne);t.forEach((function(a){n=n.concat(S(ie,e.filter((function(e){return a.name===e.name}))))})),Ye(T(a,"treasure")),Ee(a),ge(c),re(n)},discardTrashCards:function(){if(D.length>0){var e="discards";D.forEach((function(e){ma.hand.splice(ma.hand.findIndex((function(a){return a===e})),1)})),"discard"===ma.discardTrashState.type?(ma.discard=ma.discard.concat(D),ke(ma.discard)):(e="trashes",ma.trash=ma.trash.concat(D),Be(ma.trash)),ma.logs=ma.logs.concat(E(ie,[{name:"card"}],e,D.length,!0)),ma=ma.discardTrashState.next.length>0?function(e,a){var t=e.discardTrashState.next[0],c=e.treasure;switch(t){case"draw":var n,r=isNaN(e.discardTrashState.next[1])?e.discardTrashQueue.length:e.discardTrashState.next[1],s=C(r,e.deck,e.discard),o=Object(l.a)(s,3);n=o[0],e.deck=o[1],e.discard=o[2],e=Object(d.a)({},e,{hand:e.hand.concat(n),logs:e.logs.concat(E(e.gameState,[{name:"card"}],"draws",e.discardTrashQueue.length,!0))}),e=x(e);break;case"supply":var i=w(e.discardTrashState.card,"supply");c="discardTrash"===i.type?e.discardTrashQueue[0].cost+parseInt(i.amount):i.amount,a({treasure:e.treasure,count:e.discardTrashState.amount,destination:i.next&&i.next[0]?i.next[0]:"discard"}),e.discardTrashQueue=[]}return Object(d.a)({},e,{treasure:c})}(ma,ae):x(ma)}else ma=x(ma);j(ma.discardTrashState),K(ma.discardTrashQueue),ya(ma)},startGame:ia,nextPhase:ha}),r.a.createElement("div",{className:"hand"},r.a.createElement(B,{altKey:X,stacked:!0,sort:!0,cards:fe,phase:t,onClick:b?function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=M(e,a,fe,D);K(t[1])}:ha,discardTrashState:b,actionSupply:ee,restriction:b?b.restriction:void 0,cardQueue:D})),r.a.createElement(L,{show:!!ua,setShow:function(){},children:ua}),r.a.createElement(R,{showModal:u,setShowModal:m,altKey:X,modalContent:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.30655966.chunk.js.map