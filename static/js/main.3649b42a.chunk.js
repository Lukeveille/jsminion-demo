(this.webpackJsonpjsminion=this.webpackJsonpjsminion||[]).push([[0],[,,,,,,function(e){e.exports=JSON.parse('{"victory":[{"name":"Estate","cost":2,"victory":1,"type":"Victory"},{"name":"Duchy","cost":5,"victory":3,"type":"Victory"},{"name":"Province","cost":8,"victory":6,"type":"Victory"},{"name":"Curse","cost":0,"victory":-1,"type":"Victory"}],"treasure":[{"name":"Copper","cost":0,"treasure":1,"type":"Treasure"},{"name":"Silver","cost":3,"treasure":2,"type":"Treasure"},{"name":"Gold","cost":6,"treasure":3,"type":"Treasure"}],"action":[{"name":"Village","cost":3,"actions":2,"cards":1,"type":"Action"},{"name":"Smithy","cost":4,"cards":3,"type":"Action"},{"name":"Market","cost":5,"actions":1,"cards":1,"buys":1,"treasure":1,"type":"Action"},{"name":"Festival","cost":5,"actions":2,"buys":1,"treasures":2,"type":"Action"},{"name":"Laboratory","cost":5,"cards":2,"actions":1,"type":"Action"},{"name":"Chapel","cost":2,"instructions":"Trash up to 4 cards from your hand.","discardTrash":"trash 4|up-to","type":"Action"},{"name":"Cellar","cost":2,"actions":1,"instructions":"Discard any number of cards, then draw that many.","discardTrash":"discard any draw","type":"Action"},{"name":"Remodel","cost":4,"instructions":"Trash a card from your hand. Gain a card costing up to coin-2 more than it.","discardTrash":"trash 1 supply","supply":"discardTrash 2","type":"Action"},{"name":"Mine","cost":5,"instructions":"You may trash a Treasure from your hand. Gain a Treasure to your hand costing up to coin-3 more than it.","discardTrash":"trash 1 supply Treasure","supply":"discardTrash 3 hand","type":"Action"},{"name":"Moneylender","cost":4,"treasure":3,"instructions":"You may trash a Copper from your hand for +coin-3","discardTrash":"trash 1 auto Copper","type":"Action","hidden":"treasure"},{"name":"Vassal","cost":3,"treasure":2,"instructions":"Discard the top card of your deck. If it\'s an Action card, you may play it.","discardTrash":"discard 1|deck auto","deck":"0 modal Action","type":"Action"},{"name":"Workshop","cost":3,"instructions":"Gain a card costing up to coin-4","supply":"4","type":"Action"},{"name":"Harbinger","cost":3,"cards":1,"actions":1,"instructions":"Look through your discard pile. You may put a card from it onto your deck.","discardPile":"1 deck","type":"Action"},{"name":"Merchant","cost":3,"treasure":"Silver 1","cards":1,"actions":1,"instructions":"The first time you play a Silver this turn, +coin-1","buyPhase":"1 first Silver","type":"Action"}]}')},,,function(e,t,a){e.exports=a(56)},,,,,function(e,t,a){},function(e,t,a){var c={"./Adventurer.jpg":16,"./Artisan.jpg":17,"./Bandit.jpg":18,"./Bureaucrat.jpg":19,"./Cellar.jpg":20,"./Chancellor.jpg":21,"./Chapel.jpg":22,"./Copper.jpg":23,"./Council_Room.jpg":24,"./Curse.jpg":25,"./Duchy.jpg":26,"./Estate.jpg":27,"./Feast.jpg":28,"./Festival.jpg":29,"./Gardens.jpg":30,"./Gold.jpg":31,"./Harbinger.jpg":32,"./Laboratory.jpg":33,"./Library.jpg":34,"./Market.jpg":35,"./Merchant.jpg":36,"./Militia.jpg":37,"./Mine.jpg":38,"./Moat.jpg":39,"./Moneylender.jpg":40,"./Poacher.jpg":41,"./Province.jpg":42,"./Remodel.jpg":43,"./Sentry.jpg":44,"./Silver.jpg":45,"./Smithy.jpg":46,"./Spy.jpg":47,"./Thief.jpg":48,"./Throne_Room.jpg":49,"./Vassal.jpg":50,"./Village.jpg":51,"./Witch.jpg":52,"./Woodcutter.jpg":53,"./Workshop.jpg":54};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=r,e.exports=n,n.id=15},function(e,t,a){e.exports=a.p+"static/media/Adventurer.be939008.jpg"},function(e,t,a){e.exports=a.p+"static/media/Artisan.4379fa98.jpg"},function(e,t,a){e.exports=a.p+"static/media/Bandit.9d98a617.jpg"},function(e,t,a){e.exports=a.p+"static/media/Bureaucrat.c539a1a4.jpg"},function(e,t,a){e.exports=a.p+"static/media/Cellar.963cda6a.jpg"},function(e,t,a){e.exports=a.p+"static/media/Chancellor.333df184.jpg"},function(e,t,a){e.exports=a.p+"static/media/Chapel.747b0f1e.jpg"},function(e,t,a){e.exports=a.p+"static/media/Copper.25a3a87b.jpg"},function(e,t,a){e.exports=a.p+"static/media/Council_Room.ace064e3.jpg"},function(e,t,a){e.exports=a.p+"static/media/Curse.b70192b7.jpg"},function(e,t,a){e.exports=a.p+"static/media/Duchy.d2c0c766.jpg"},function(e,t,a){e.exports=a.p+"static/media/Estate.c9ec060f.jpg"},function(e,t,a){e.exports=a.p+"static/media/Feast.e33241fa.jpg"},function(e,t,a){e.exports=a.p+"static/media/Festival.af0c9e52.jpg"},function(e,t,a){e.exports=a.p+"static/media/Gardens.2490700a.jpg"},function(e,t,a){e.exports=a.p+"static/media/Gold.df7287e6.jpg"},function(e,t,a){e.exports=a.p+"static/media/Harbinger.f0c114b5.jpg"},function(e,t,a){e.exports=a.p+"static/media/Laboratory.96f3a1b2.jpg"},function(e,t,a){e.exports=a.p+"static/media/Library.07857f88.jpg"},function(e,t,a){e.exports=a.p+"static/media/Market.70f1cd16.jpg"},function(e,t,a){e.exports=a.p+"static/media/Merchant.09ba9d2d.jpg"},function(e,t,a){e.exports=a.p+"static/media/Militia.b0b9a045.jpg"},function(e,t,a){e.exports=a.p+"static/media/Mine.9977d889.jpg"},function(e,t,a){e.exports=a.p+"static/media/Moat.ab3e6b16.jpg"},function(e,t,a){e.exports=a.p+"static/media/Moneylender.0480f84b.jpg"},function(e,t,a){e.exports=a.p+"static/media/Poacher.0964e482.jpg"},function(e,t,a){e.exports=a.p+"static/media/Province.6f81772e.jpg"},function(e,t,a){e.exports=a.p+"static/media/Remodel.fd52d3f6.jpg"},function(e,t,a){e.exports=a.p+"static/media/Sentry.7be7f767.jpg"},function(e,t,a){e.exports=a.p+"static/media/Silver.560c4fbe.jpg"},function(e,t,a){e.exports=a.p+"static/media/Smithy.3b2a2499.jpg"},function(e,t,a){e.exports=a.p+"static/media/Spy.a2aa11e0.jpg"},function(e,t,a){e.exports=a.p+"static/media/Thief.031b2660.jpg"},function(e,t,a){e.exports=a.p+"static/media/Throne_Room.8502a321.jpg"},function(e,t,a){e.exports=a.p+"static/media/Vassal.0c040b7c.jpg"},function(e,t,a){e.exports=a.p+"static/media/Village.595e2479.jpg"},function(e,t,a){e.exports=a.p+"static/media/Witch.e45eb845.jpg"},function(e,t,a){e.exports=a.p+"static/media/Woodcutter.157e926a.jpg"},function(e,t,a){e.exports=a.p+"static/media/Workshop.7873d057.jpg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c,n=a(0),r=a.n(n),s=a(8),o=a.n(s),i=(a(14),a(2)),d=a(3),l=a(1),u=a(6),p=["Village","Smithy","Market","Chapel","Cellar","Remodel","Mine","Moneylender","Vassal","Laboratory"],m=function(e){return function(t){return t.path=e.filter((function(e){return e.includes(t.name)}))[0],t}},h=(c=a(15)).keys().map(c),y=["treasure","victory"],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{victory:u.victory.map(m(h)),treasure:u.treasure.map(m(h)),action:u.action.map(m(h)).filter((function(t){return e.includes(t.name)}))}},g=a(58),b=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},v=["red","blue","orange","green"],j=["actions","cards","buys","treasure"],E=function(e,t,a,c,n){var s=c||0===c?c:t?t.length:1,o=t&&t[0].end?t[0].end:a||"plays";return[r.a.createElement("div",{className:"log",key:"log".concat(Object(g.a)().slice(0,8))},r.a.createElement("p",{className:"".concat(t?"":"turn-log")},t?n?"\u2022":"":r.a.createElement("span",null,"Turn ",e.turn," -\xa0"),r.a.createElement("span",{className:"".concat(v[e.turnPlayer-1])},"P",e.player),t?r.a.createElement("span",null,"\xa0",o," ",!t||"Action"!==t[0].name&&"Buy"!==t[0].name&&"Coin"!==t[0].name?"":"+",r.a.createElement("span",{className:"Coin"===t[0].name?"coin":""},t&&t[0].end?"their":1!==s||n?s:"a"),r.a.createElement("span",{className:"".concat(t[0].type,"-text")},"\xa0","Coin"===t[0].name?"":r.a.createElement("span",null,t[0].name),1!==s&&"Treasure"!==t[0].type&&"Coin"!==t[0].name?"s":"")):""))]},S=function(e,t,a,c){var n=[];return n=n.concat(E(e,t,a,c)),t&&"Action"===t[0].type&&"buys"!==a&&j.forEach((function(a){var c="cards"===a?"draws":"gets",r="treasure"===a?"Coin":b(a).slice(0,-1),s="cards"===a&&t&&isNaN(t[0].cards);t[0][a]&&!s&&(n=n.concat(E(e,[Object(d.a)({},t[0],{name:r})],c,t[0][a],!0)))})),n},O=function(e){for(var t,a,c=Object(i.a)(e),n=c.length;0!==n;)a=Math.floor(Math.random()*n),t=c[n-=1],c[n]=c[a],c[a]=t;return c},T=function(e,t){var a=0;return e.forEach((function(e){a=e[t]?a+e[t]:a})),a},k=function(e,t){return e.map((function(e){return e.type===t})).includes(!0)},N=function(e,t){return[t.concat(S(e,[{name:"Buy Phase",end:"enters"}])),"Buy",0]},C=function(e){if(!e.actions||!k(e.hand,"Action")){var t=N(e.gameState,e.logs),a=Object(l.a)(t,3);e.logs=a[0],e.phase=a[1],e.actions=a[2]}return Object(d.a)({},e,{discardTrashQueue:[],discardTrashState:!1})},x=function(e,t,a){var c=Object(i.a)(t),n=c.splice(0,e),r=Object(i.a)(a);return t.length<e&&(c=c.concat(O(r)),r=[],n=n.concat(c.splice(0,e-n.length))),[n,c,r]},M=function(e,t,a,c){var n=Object(i.a)(a),r=n.findIndex((function(t){return t===e})),s=n.splice(r,t);return[n,Object(i.a)(c).concat(s),s]},w=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),d=i[0],u=i[1];return Object(n.useEffect)((function(){u(e.altKey)}),[e.altKey]),r.a.createElement("div",{className:"card-info ".concat(e.card.empty||e.queued.includes(e.card)?"transparent":"")},e.count>1||e.supply||e.queued.includes(e.card)?r.a.createElement("p",{onClick:function(t){if(e.live&&!e.card.empty&&!e.supply&&"Treasure"===e.card.type){var a=e.limit-e.queued.length,c=a>e.count?e.count:a;e.onClick(e.card,c),t.stopPropagation()}},className:"card-stack".concat(e.live&&"Treasure"===e.card.type&&e.stacked?"-live":"")},e.card.empty?0:e.count):"",r.a.createElement("div",{className:"card ".concat(e.card.type," ").concat("Curse"===e.card.name?"curse":""," ").concat(e.live&&!e.card.empty?"live":""),onClick:function(){e.live&&!e.card.empty&&e.onClick(e.card,1,e.destination?e.destination:!!e.supply)},onMouseOver:function(){s(!0)},onMouseOut:function(){s(!1)}},r.a.createElement("p",{className:"card-top"},e.card.name),r.a.createElement("div",{className:"card-btm"},r.a.createElement("p",{className:"card-side"},e.card.cost),r.a.createElement("p",null,e.card.type),r.a.createElement("p",{className:"card-side"},"\xa0")),r.a.createElement("div",{className:"full-card-wrapper ".concat(e.stacked?"lower-card":"")},r.a.createElement("div",{className:"full-card ".concat(e.card.type," ").concat(c&&d?"":"hidden"," ").concat(e.live?"full-card-live":""," ").concat("Curse"===e.card.name?"curse":"")},r.a.createElement("div",{className:"card-top"},r.a.createElement("p",null,e.card.name),r.a.createElement("div",{className:"".concat("Action"===e.card.type?"action":"card","-image"),style:{backgroundImage:"url(".concat(e.card.path,")")}}),"Action"===e.card.type?r.a.createElement("div",{className:"card-instructions"},r.a.createElement("div",{className:"perks"},["cards","actions","buys","treasure"].map((function(t){var a="treasure"===t?r.a.createElement("span",{className:"coin"},e.card[t]):e.card[t]>1?b(t):b(t).slice(0,-1);return e.card[t]&&!isNaN(e.card[t])&&e.card.hidden!==t?r.a.createElement("p",{key:t},"+",r.a.createElement("span",null,"treasure"!==t?e.card[t]:""," ",a)):""}))),r.a.createElement("div",{className:"instructions"},function(){var t=e.card.instructions?e.card.instructions:"";if(t.includes("coin-")){var a=(t=t.split("coin-"))[1].length>1?t[1].split(" "):[t[1]],c=t[0],n=a.shift();a=a.length>0?a.join(" "):"",t=r.a.createElement("div",null,c,r.a.createElement("span",{className:"coin"},n)," ",a)}return t}())):""),r.a.createElement("div",{className:"card-btm"},r.a.createElement("p",{className:"card-side"},e.card.cost),r.a.createElement("p",null,e.card.type),r.a.createElement("p",{className:"card-side"},"\xa0"))))))},A=function(e){return function(t,a){var c=0;return t[e]>a[e]?c=1:t[e]<a[e]&&(c=-1),c}},P=function(e){var t=[e.cards],a=1,c=[[],[],[]];if(e.sort){t[0].sort(A("name")),t[0].sort(A("type"));var n=t[0].filter((function(e){return"Action"===e.type})).sort(A("cost")),s=t[0].filter((function(e){return"Treasure"===e.type})).sort(A("cost")),o=t[0].filter((function(e){return"Victory"===e.type})).sort(A("cost"));t=e.supply?[s,o,n]:[n,s,o]}t.forEach((function(t,n){t.forEach((function(s,o){var i=e.phase===s.type&&!e.supply||"Buy"===e.phase&&"Treasure"===s.type&&!e.supply||("Buy"===e.phase||"supply"===e.phase)&&e.coin-e.coinMod>=s.cost&&e.supply||e.discardTrashState;if(t[o+1]&&t[o+1].name===s.name)a++;else{var d=e.cardQueue?e.cardQueue:[],l=Number.MAX_SAFE_INTEGER;if(e.discardTrashState&&!isNaN(e.discardTrashState.amount)&&(l=parseInt(e.discardTrashState.amount)),d.length>0){var u=0;d.forEach((function(e){e.name===s.name&&(u+=1)})),i=(a-=u)>0&&d.length<l}e.restriction&&(i=i&&(e.restriction===s.type||e.restriction===s.subType)),e.actionSupply&&(i=i&&e.supply),c[n].push(r.a.createElement("div",{key:"card".concat(n).concat(o),className:"inline"},r.a.createElement(w,{altKey:e.altKey,card:s,live:!!e.live||i,count:a,stacked:e.stacked,onClick:e.onClick,supply:e.supply,queued:d,limit:l,destination:!!e.actionSupply&&e.actionSupply.destination}))),a=1}}))}));var i=c[0].concat(c[1]).concat(c[2]),d=e.title?r.a.createElement("p",{className:"red top-spaced"},e.title," (",e.cards.length,")"):"";return e.stacked?c.map((function(e,t){return r.a.createElement("div",{key:"stack".concat(t),className:"stack"},e)})):e.supply?c.map((function(e,t){return r.a.createElement("div",{key:"supply".concat(t),className:"supply"},e)})):r.a.createElement("div",null,d,i)},B=function(e){return r.a.createElement("div",null,r.a.createElement(P,{altKey:e.altKey,onClick:e.accept,cards:e.cards,live:e.live,title:e.live?"You may play":"To ".concat(e.buttonText)}),r.a.createElement("div",{className:"game-button start-button live",onClick:e.decline},b(e.buttonText)))},D=function(e,t,a,c){var n,s=[];a.logs=a.logs.concat(S(a.gameState,[e])),a.actions--;var o=M(e,t,a.hand,a.inPlay),i=Object(l.a)(o,3);if(a.hand=i[0],a.inPlay=i[1],n=i[2],a.treasure+=T(n,"treasure"),e.actions&&(a.actions+=e.actions),e.buys&&(a.buys+=e.buys),e.cards){var u=x(e.cards,a.deck,a.discard),p=Object(l.a)(u,3);s=p[0],a.deck=p[1],a.discard=p[2],a.hand=a.hand.concat(s)}var m=!!e.discardTrash&&function(e){var t=e.discardTrash.split(" "),a=t[1],c="";return a.includes("|")&&(c=(a=a.split("|"))[1],a=a[0]),a=isNaN(a)?a:parseInt(a),{card:e,type:t[0],amount:a,modifier:c,next:t[2]?[t[2],e[t[2]]]:[],restriction:t[3]}}(e),h=!k(a.hand,"Action");if(m)if(m.next&&"auto"===m.next[0]){var y=function(e,t,a,c){var n=[{name:"Card".concat(a.modifier?" from ".concat(a.modifier):"")}];if(a.modifier&&"up-to"!==a.modifier){var s=e[a.modifier].split(" ");switch(s={index:s[0],next:s[1],type:s[2]},a.modifier){case"deck":t.deck.length<1&&(t=Object(d.a)({},t,{deck:t.discard,discard:[]}));var o=t.deck.splice(s.index,a.amount),i=function(){t.discard=t.discard.concat(o),t.logs=t.logs.concat(E(t.gameState,n,"discards",1,!0))};if("modal"===s.next){var l=s.type===o[0].type;l?(t.actions++,t.menuScreen=r.a.createElement(B,{cards:o,accept:function(){t.menuScreen=null,t.hand=t.hand.concat(o[0]),t=D(o[0],1,t,c),c.setTurnState(t)},decline:function(){t.actions--,0===(t=C(t)).actions&&c.setPhase("Buy"),t.hand.splice(t.hand.findIndex((function(e){return e===o[0]})),1);var e=t.logs.pop();t=Object(d.a)({},t,{discard:t.discard.concat(o),logs:t.logs.concat(E(t.gameState,n,"discards",1,!0)).concat(e),menuScreen:null}),c.setTurnState(t),c.setDiscardTrashState(!1)},buttonText:a.type,live:l})):i()}else i()}}else{var u="discards",p=t.hand.findIndex((function(e){return e.name===a.restriction}));"discard"===a.type?t.discard=t.discard.concat(t.hand.splice(p,a.amount)):(t.trash=t.trash.concat(t.hand.splice(p,a.amount)),u="trashes"),-1===p?(t.coinMod+=3,t.logs.pop()):t.logs=t.logs.concat(E(t.gameState,n,u,a.amount,!0))}var m=!k(t.hand,"Action");return[t,m]}(e,a,m,c),f=Object(l.a)(y,2);a=f[0],h=f[1]}else h=!1,c.setDiscardTrashState(m);var g=!m||!(!m.next||"auto"!==m.next[0]);if(g=!a.menuScreen&&g,(!a.actions||h)&&g){var b=N(a.gameState,a.logs),v=Object(l.a)(b,3);a.logs=v[0],a.phase=v[1],a.actions=v[2]}return a},Q=function(e){var t=document.getElementById("log-sticker");return Object(n.useEffect)((function(){t&&t.scrollIntoView()}),[e.logs,t]),r.a.createElement("div",{className:"logs"},r.a.createElement("p",{className:"log-title"},"Log"),r.a.createElement("div",{className:"breakline"}),r.a.createElement("div",{className:"log-readout"},e.logs.length>1?e.logs:r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{id:"log-sticker"})))},V=function(e){return r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"hidden"},"VP ",r.a.createElement("span",{className:"red"},e.victoryPoints)," |\xa0"),r.a.createElement("span",null,"Action ",r.a.createElement("span",{className:"red"},e.actions)," |\xa0"),r.a.createElement("span",null,"Buys ",r.a.createElement("span",{className:"red"},e.buys)," |\xa0"),r.a.createElement("span",null,"Coin ",r.a.createElement("span",{className:"coin"},e.treasure-e.bought-e.coinMod)," "))},I=function(e){return r.a.createElement("div",{className:"trash game-button".concat(e.trash.length>0?" active":""),onClick:function(){e.trash.length>0&&(e.setModalContent([e.trash,"Trash"]),e.setShowModal(!0))}},"Trash (",e.trash.length,")")},G=function(e,t,a){return e.filter((function(e){return e[t]===a})).length},K=function(e){return r.a.createElement("div",{className:"button-display"},r.a.createElement("div",null,r.a.createElement("div",{className:"game-button red"},e.phase?"Your Turn - ".concat(e.phase," Phase"):"P2's Turn"),r.a.createElement("p",{className:"instructions red"},function(e,t,a,c){var n="";if(a){var r=a.modifier?"".concat(a.modifier.split("-").join(" ")," "):"",s=a.amount&&isNaN(a.amount)?"(s)":a.amount>1?"s":"";n="Select ".concat(r).concat(a.amount," card").concat(s).concat(c?"":" to ".concat(a.type))}else n=c?"Choose a Card":"Buy"===e?"Choose Cards to Buy (".concat(t,")"):"Choose Actions to play";return n}(e.phase,e.buys,e.discardTrashState,e.actionSupply),"\xa0"),e.actionSupply?"":r.a.createElement("div",null,r.a.createElement("div",{className:e.discardTrashState||!e.phase?"hidden":G(e.hand,"type","Treasure")>0&&"Buy"===e.phase?"game-button live":"button-space",onClick:e.playAllTreasure},G(e.hand,"type","Treasure")>0&&"Buy"===e.phase?"Play All Treasure (".concat(G(e.hand,"type","Treasure"),")"):" "),r.a.createElement("div",{className:"game-button live".concat(e.discardTrashState||!e.phase?"":" top-spaced"),onClick:e.discardTrashState?e.discardTrashCards:e.nextPhase},e.discardTrashState?"Confirm Card".concat(isNaN(e.discardTrashState.amount)||e.discardTrashState.amount>1?"s":""," to ").concat(e.discardTrashState.type," (").concat(e.discardTrashQueue.length,")"):e.phase?"End ".concat(e.phase," Phase"):"Start Turn"),r.a.createElement("div",{className:"game-button live top-spaced ".concat(e.discardTrashState&&e.discardTrashQueue.length>0?"":" hidden"),onClick:function(){e.setDiscardTrashQueue([])}},"Choose different cards"))),r.a.createElement("div",null,r.a.createElement("div",{className:"breakline"}),r.a.createElement("div",{className:"deck"},r.a.createElement("p",null,"Deck (",e.deck.length,")")),r.a.createElement("div",{className:"deck ".concat(e.discard.length>0?"active":""),onClick:function(){e.discard.length>0&&(e.setModalContent([e.discard,"Discard"]),e.setShowModal(!0))}},r.a.createElement("p",null,"Discard (",e.discard.length,")"))))},L=function(e){return r.a.createElement("div",{style:{display:e.show?"flex":"none"},className:"modal-bg",onClick:function(){return e.setShow(!1)}},r.a.createElement("div",{className:"modal-box",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"modal-top-row"},e.close?r.a.createElement("div",{className:"x-close-button",onClick:function(){return e.setShow(!1)}},"x"):""),r.a.createElement("div",{className:"modal-content"},e.children)))},R=function(e){return r.a.createElement(L,{close:!0,show:e.showModal,setShow:e.setShowModal,children:r.a.createElement(P,{altKey:e.altKey,cards:e.modalContent[0],title:e.modalContent[1]})})},W=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},e.phaseTitle),e.start?r.a.createElement("h1",null,"Dominion"):r.a.createElement("p",null,e.victory," Victory Points!"),r.a.createElement("div",{className:"game-button start-button live",onClick:e.onClick},e.button))};a(55);var _=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),u=o[0],m=o[1],h=Object(n.useState)(!1),b=Object(l.a)(h,2),v=b[0],j=b[1],w=Object(n.useState)([]),A=Object(l.a)(w,2),B=A[0],G=A[1],_=Object(n.useState)([[]]),F=Object(l.a)(_,2),Y=F[0],q=F[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),U=J[0],X=J[1],$=Object(n.useState)(!1),z=Object(l.a)($,2),Z=z[0],ee=z[1],te=Object(n.useState)([]),ae=Object(l.a)(te,2),ce=ae[0],ne=ae[1],re=Object(n.useState)({turn:0,player:1,turnPlayer:1}),se=Object(l.a)(re,2),oe=se[0],ie=se[1],de=Object(n.useState)([]),le=Object(l.a)(de,2),ue=le[0],pe=le[1],me=Object(n.useState)([]),he=Object(l.a)(me,2),ye=he[0],fe=he[1],ge=Object(n.useState)([]),be=Object(l.a)(ge,2),ve=be[0],je=be[1],Ee=Object(n.useState)([]),Se=Object(l.a)(Ee,2),Oe=Se[0],Te=Se[1],ke=Object(n.useState)(0),Ne=Object(l.a)(ke,2),Ce=Ne[0],xe=Ne[1],Me=Object(n.useState)([]),we=Object(l.a)(Me,2),Ae=we[0],Pe=we[1],Be=Object(n.useState)([]),De=Object(l.a)(Be,2),Qe=De[0],Ve=De[1],Ie=Object(n.useState)(0),Ge=Object(l.a)(Ie,2),Ke=Ge[0],Le=Ge[1],Re=Object(n.useState)(0),We=Object(l.a)(Re,2),_e=We[0],Fe=We[1],Ye=Object(n.useState)(0),qe=Object(l.a)(Ye,2),He=qe[0],Je=qe[1],Ue=Object(n.useState)(0),Xe=Object(l.a)(Ue,2),$e=Xe[0],ze=Xe[1],Ze=Object(n.useState)(),et=Object(l.a)(Ze,2),tt=et[0],at=et[1],ct=Object(n.useState)(),nt=Object(l.a)(ct,2),rt=nt[0],st=nt[1],ot=function(){var e=O(function(){var e=[];return y.forEach((function(t){for(var a=0;a<("treasure"===t?7:3);a++)e.push(f()[t][0])})),e}());st(T(e,"victory")),fe(e.splice(0,5)),pe(e),Ve(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=y.concat("action"),a=[],c=function(t){f(e)[t].forEach((function(e,c){for(var n="treasure"===t?20*(3-c):"action"===t||"Curse"===e.name?10:8,r=0;r<n;r++)a.push(e)}))};return t.forEach(c),a}(p)),Te([]),je([]),ne([]),Pe([]),ut(null),c(null),at(0),Fe(0),ze(0),ie(Object(d.a)({},oe,{turn:1}))},it=Object(n.useState)(r.a.createElement(W,{onClick:ot,phaseTitle:"Let's Play",start:!0,button:"Start Game"})),dt=Object(l.a)(it,2),lt=dt[0],ut=dt[1],pt={gameState:oe,hand:Object(i.a)(ye),deck:Object(i.a)(ue),discard:Object(i.a)(Oe),trash:Object(i.a)(Ae),inPlay:Object(i.a)(ve),logs:Object(i.a)(ce),supply:Object(i.a)(Qe),discardTrashQueue:Object(i.a)(B),discardTrashState:!!v&&Object(d.a)({},v),actions:He,buys:$e,treasure:_e,phase:a,menuScreen:lt,coinMod:Ce},mt=function(e,t,n){pt.treasure=T(ve,"treasure");var s=a===e.type?1:t;switch(a){case"Action":var o={setDiscardTrashState:j,setPhase:c,setTurnState:ht};if(e.type===a)pt=D(e,s,pt,o);else{var u=N(oe,pt.logs),p=Object(l.a)(u,3);pt.logs=p[0],pt.phase=p[1],pt.actions=p[2]}break;case"Buy":var m=$e,h=rt;if(n){var y,f=M(e,1,Qe,pt.discard),b=Object(l.a)(f,3);pt.supply=b[0],pt.discard=b[1],y=b[2];var v=pt.supply.filter((function(t){return t.name===e.name})).length;if(h=e.victory?h+e.victory:h,!v&&(at(tt+1),y=[Object(d.a)({},y[0],{empty:!0})],pt.supply=pt.supply.concat(y),"Province"===e.name||2===tt)){Ve(pt.supply),ie(Object(d.a)({},oe,{turn:0})),pt.menuScreen=r.a.createElement(W,{onClick:ot,phaseTitle:"Game Over",victory:h,button:"Play Again"});break}Ve(pt.supply),Le(Ke+e.cost),m-=1,pt.logs=pt.logs.concat(S(oe,y,"buys"))}else if("Treasure"===e.type){var E,O=M(e,s,ye,ve),C=Object(l.a)(O,3);pt.hand=C[0],pt.inPlay=C[1],E=C[2],pt.treasure+=T(E,"treasure"),pt.logs=pt.logs.concat(S(oe,[e],null,t))}else m=0;if(m<1||_e-Ke-e.cost<1&&n){var w=Object(i.a)(ue);pt=Object(d.a)({},pt,{inPlay:[],discard:pt.discard.concat(ve).concat(ye),hand:w.splice(0,5)}),m=0;var A=x(5,pt.deck,pt.discard),P=Object(l.a)(A,3);pt.hand=P[0],pt.deck=P[1],pt.discard=P[2],pt=Object(d.a)({},pt,{actions:0,treasure:0,coinMod:0,phase:null,logs:pt.logs.concat(S(oe,[{name:"turn",end:"ends"}]))}),Le(0),ie(Object(d.a)({},oe,{turn:oe.turn+1}))}pt.buys=m,st(h);break;default:var B=1===oe.turn&&1===oe.turnPlayer?[]:[r.a.createElement("div",{key:"log".concat(Object(g.a)().slice(0,8)),className:"spacer"})];if(pt.logs=pt.logs.concat(B.concat(S(oe))),pt.buys=1,k(ye,"Action"))pt.actions=1,pt.phase="Action";else{var Q=N(oe,pt.logs),V=Object(l.a)(Q,2);pt.logs=V[0],pt.phase=V[1]}}ht(pt)},ht=function(e){fe(e.hand),pe(e.deck),Te(e.discard),Pe(e.trash),je(e.inPlay),ne(e.logs),Ve(e.supply),Je(e.actions),ze(e.buys),Fe(e.treasure),c(e.phase),ut(e.menuScreen),xe(e.coinMod)};return window.onkeydown=function(e){18===e.keyCode?X(!0):27===e.keyCode?m(!1):13===e.keyCode&&lt&&0===oe.turn&&ot()},window.onkeyup=function(e){18===e.keyCode&&X(!1)},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"supply-market"},r.a.createElement(P,{coin:_e-Ke,phase:Z?"supply":a,onClick:Z?function(e,t,a){pt.logs=pt.logs.concat(E(oe,[Object(d.a)({},e,{name:"discard"===a?e.name:r.a.createElement("span",null,e.name,r.a.createElement("span",{className:"default-text"}," to their ",a))})],"gains",1,!0));var c=M(e,t,Qe,pt[a]),n=Object(l.a)(c,2);pt.supply=n[0],pt[a]=n[1],pt.treasure=Z.treasure,pt=C(pt),ht(pt),G(pt.discardTrashQueue),j(pt.discardTrashState),ee(!1)}:mt,actionSupply:Z,sort:!0,supply:!0,altKey:U,cards:Qe,coinMod:Ce,restriction:v?v.restriction:void 0})),r.a.createElement(Q,{logs:ce}),r.a.createElement(V,{victoryPoints:rt,actions:He,buys:$e,treasure:_e,coinMod:Ce,bought:Ke}),r.a.createElement(I,{trash:Ae,setModalContent:q,setShowModal:m}),r.a.createElement("div",{className:"in-play"},r.a.createElement(P,{sort:!0,altKey:U,cards:ve})),r.a.createElement("div",{className:"combo-mat"}),r.a.createElement(K,{buys:$e,actionSupply:Z,hand:ye,phase:a,discardTrashState:v,discardTrashQueue:B,setDiscardTrashQueue:G,deck:ue,setModalContent:q,setShowModal:m,discard:Oe,playAllTreasure:function(){var e=ye.filter((function(e){return"Treasure"===e.type})),t=Object(i.a)(ve).concat(e),a=e.filter((function(e,t,a){return a.indexOf(e)===t})),c=ye.filter((function(e){return"Treasure"!==e.type})),n=Object(i.a)(ce);a.forEach((function(t){n=n.concat(S(oe,e.filter((function(e){return t.name===e.name}))))})),Fe(T(t,"treasure")),je(t),fe(c),ne(n)},discardTrashCards:function(){if(B.length>0){var e="discards";B.forEach((function(e){pt.hand.splice(pt.hand.findIndex((function(t){return t===e})),1)})),"discard"===pt.discardTrashState.type?(pt.discard=pt.discard.concat(B),Te(pt.discard)):(e="trashes",pt.trash=pt.trash.concat(B),Pe(pt.trash)),pt.logs=pt.logs.concat(E(oe,[{name:"Card"}],e,B.length,!0)),pt=pt.discardTrashState.next.length>0?function(e,t){var a=e.discardTrashState.next[0],c=e.treasure;switch(a){case"draw":var n,r=isNaN(e.discardTrashState.next[1])?e.discardTrashQueue.length:e.discardTrashState.next[1],s=x(r,e.deck,e.discard),o=Object(l.a)(s,3);n=o[0],e.deck=o[1],e.discard=o[2],e=Object(d.a)({},e,{hand:e.hand.concat(n),logs:e.logs.concat(E(e.gameState,[{name:"Card"}],"draws",e.discardTrashQueue.length,!0))}),e=C(e);break;case"supply":var i=e.discardTrashState.card.supply.split(" ");c="discardTrash"===i[0]?e.discardTrashQueue[0].cost+parseInt(i[1]):i[0],t({treasure:e.treasure,count:e.discardTrashState.amount,restriction:i[2],destination:i[2]?i[2]:"discard"}),e.discardTrashQueue=[]}return Object(d.a)({},e,{treasure:c})}(pt,ee):C(pt)}else pt=C(pt);j(pt.discardTrashState),G(pt.discardTrashQueue),ht(pt)},startGame:ot,nextPhase:mt}),r.a.createElement("div",{className:"hand"},r.a.createElement(P,{altKey:U,stacked:!0,sort:!0,cards:ye,phase:a,onClick:v?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=M(e,t,ye,B);G(a[1])}:mt,discardTrashState:v,actionSupply:Z,restriction:v?v.restriction:void 0,cardQueue:B})),r.a.createElement(L,{show:!!lt,setShow:function(){},children:lt}),r.a.createElement(R,{showModal:u,setShowModal:m,altKey:U,modalContent:Y}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.3649b42a.chunk.js.map