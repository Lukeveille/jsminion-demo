(this.webpackJsonpjsminion=this.webpackJsonpjsminion||[]).push([[0],[,,,,,,function(e){e.exports=JSON.parse('{"victory":[{"name":"Estate","cost":2,"victory":1,"type":"Victory"},{"name":"Duchy","cost":5,"victory":3,"type":"Victory"},{"name":"Province","cost":8,"victory":6,"type":"Victory"},{"name":"Curse","cost":0,"victory":-1,"type":"Victory"}],"treasure":[{"name":"Copper","cost":0,"treasure":1,"type":"Treasure"},{"name":"Silver","cost":3,"treasure":2,"type":"Treasure"},{"name":"Gold","cost":6,"treasure":3,"type":"Treasure"}],"action":[{"name":"Village","cost":3,"actions":2,"cards":1,"type":"Action"},{"name":"Smithy","cost":4,"cards":3,"type":"Action"},{"name":"Market","cost":5,"actions":1,"cards":1,"buys":1,"treasure":1,"type":"Action"},{"name":"Festival","cost":5,"actions":2,"buys":1,"treasures":2,"type":"Action"},{"name":"Laboratory","cost":5,"cards":2,"actions":1,"type":"Action"},{"name":"Chapel","cost":2,"instructions":"Trash up to 4 cards from your hand.","discardTrash":"trash 4|up-to","type":"Action"},{"name":"Cellar","cost":2,"actions":1,"instructions":"Discard any number of cards, then draw that many.","discardTrash":"discard any draw","type":"Action"},{"name":"Remodel","cost":4,"instructions":"Trash a card from your hand. Gain a card costing up to coin-2 more than it.","discardTrash":"trash 1 supply","supply":"discardTrash 2","type":"Action"},{"name":"Mine","cost":5,"instructions":"You may trash a Treasure from your hand. Gain a Treasure to your hand costing up to coin-3 more than it.","discardTrash":"trash 1 supply Treasure","supply":"discardTrash 3 hand","type":"Action"},{"name":"Moneylender","cost":4,"treasure":3,"instructions":"You may trash a Copper from your hand for +coin-3","discardTrash":"trash 1 auto Copper","type":"Action","hidden":"treasure"},{"name":"Vassal","cost":3,"treasure":2,"instructions":"Discard the top card of your deck. If it\'s an Action card, you may play it.","discardTrash":"discard 1|deck auto","deck":"0 modal Action","type":"Action"},{"name":"Workshop","cost":3,"instructions":"Gain a card costing up to coin-4","supply":"4","type":"Action"},{"name":"Harbinger","cost":3,"cards":1,"actions":1,"instructions":"Look through your discard pile. You may put a card from it onto your deck.","discardPile":"1 deck","type":"Action"},{"name":"Merchant","cost":3,"treasure":"Silver 1","cards":1,"actions":1,"instructions":"The first time you play a Silver this turn, +coin-1","buyPhase":"1 first Silver","type":"Action"}]}')},,,function(e,a,t){e.exports=t(56)},,,,,function(e,a,t){},function(e,a,t){var c={"./Adventurer.jpg":16,"./Artisan.jpg":17,"./Bandit.jpg":18,"./Bureaucrat.jpg":19,"./Cellar.jpg":20,"./Chancellor.jpg":21,"./Chapel.jpg":22,"./Copper.jpg":23,"./Council_Room.jpg":24,"./Curse.jpg":25,"./Duchy.jpg":26,"./Estate.jpg":27,"./Feast.jpg":28,"./Festival.jpg":29,"./Gardens.jpg":30,"./Gold.jpg":31,"./Harbinger.jpg":32,"./Laboratory.jpg":33,"./Library.jpg":34,"./Market.jpg":35,"./Merchant.jpg":36,"./Militia.jpg":37,"./Mine.jpg":38,"./Moat.jpg":39,"./Moneylender.jpg":40,"./Poacher.jpg":41,"./Province.jpg":42,"./Remodel.jpg":43,"./Sentry.jpg":44,"./Silver.jpg":45,"./Smithy.jpg":46,"./Spy.jpg":47,"./Thief.jpg":48,"./Throne_Room.jpg":49,"./Vassal.jpg":50,"./Village.jpg":51,"./Witch.jpg":52,"./Woodcutter.jpg":53,"./Workshop.jpg":54};function n(e){var a=r(e);return t(a)}function r(e){if(!t.o(c,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return c[e]}n.keys=function(){return Object.keys(c)},n.resolve=r,e.exports=n,n.id=15},function(e,a,t){e.exports=t.p+"static/media/Adventurer.be939008.jpg"},function(e,a,t){e.exports=t.p+"static/media/Artisan.4379fa98.jpg"},function(e,a,t){e.exports=t.p+"static/media/Bandit.9d98a617.jpg"},function(e,a,t){e.exports=t.p+"static/media/Bureaucrat.c539a1a4.jpg"},function(e,a,t){e.exports=t.p+"static/media/Cellar.963cda6a.jpg"},function(e,a,t){e.exports=t.p+"static/media/Chancellor.333df184.jpg"},function(e,a,t){e.exports=t.p+"static/media/Chapel.747b0f1e.jpg"},function(e,a,t){e.exports=t.p+"static/media/Copper.25a3a87b.jpg"},function(e,a,t){e.exports=t.p+"static/media/Council_Room.ace064e3.jpg"},function(e,a,t){e.exports=t.p+"static/media/Curse.b70192b7.jpg"},function(e,a,t){e.exports=t.p+"static/media/Duchy.d2c0c766.jpg"},function(e,a,t){e.exports=t.p+"static/media/Estate.c9ec060f.jpg"},function(e,a,t){e.exports=t.p+"static/media/Feast.e33241fa.jpg"},function(e,a,t){e.exports=t.p+"static/media/Festival.af0c9e52.jpg"},function(e,a,t){e.exports=t.p+"static/media/Gardens.2490700a.jpg"},function(e,a,t){e.exports=t.p+"static/media/Gold.df7287e6.jpg"},function(e,a,t){e.exports=t.p+"static/media/Harbinger.f0c114b5.jpg"},function(e,a,t){e.exports=t.p+"static/media/Laboratory.96f3a1b2.jpg"},function(e,a,t){e.exports=t.p+"static/media/Library.07857f88.jpg"},function(e,a,t){e.exports=t.p+"static/media/Market.70f1cd16.jpg"},function(e,a,t){e.exports=t.p+"static/media/Merchant.09ba9d2d.jpg"},function(e,a,t){e.exports=t.p+"static/media/Militia.b0b9a045.jpg"},function(e,a,t){e.exports=t.p+"static/media/Mine.9977d889.jpg"},function(e,a,t){e.exports=t.p+"static/media/Moat.ab3e6b16.jpg"},function(e,a,t){e.exports=t.p+"static/media/Moneylender.0480f84b.jpg"},function(e,a,t){e.exports=t.p+"static/media/Poacher.0964e482.jpg"},function(e,a,t){e.exports=t.p+"static/media/Province.6f81772e.jpg"},function(e,a,t){e.exports=t.p+"static/media/Remodel.fd52d3f6.jpg"},function(e,a,t){e.exports=t.p+"static/media/Sentry.7be7f767.jpg"},function(e,a,t){e.exports=t.p+"static/media/Silver.560c4fbe.jpg"},function(e,a,t){e.exports=t.p+"static/media/Smithy.3b2a2499.jpg"},function(e,a,t){e.exports=t.p+"static/media/Spy.a2aa11e0.jpg"},function(e,a,t){e.exports=t.p+"static/media/Thief.031b2660.jpg"},function(e,a,t){e.exports=t.p+"static/media/Throne_Room.8502a321.jpg"},function(e,a,t){e.exports=t.p+"static/media/Vassal.0c040b7c.jpg"},function(e,a,t){e.exports=t.p+"static/media/Village.595e2479.jpg"},function(e,a,t){e.exports=t.p+"static/media/Witch.e45eb845.jpg"},function(e,a,t){e.exports=t.p+"static/media/Woodcutter.157e926a.jpg"},function(e,a,t){e.exports=t.p+"static/media/Workshop.7873d057.jpg"},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var c,n=t(0),r=t.n(n),s=t(8),i=t.n(s),o=(t(14),t(2)),d=t(3),l=t(1),u=t(6),p=["Village","Smithy","Market","Chapel","Cellar","Remodel","Mine","Moneylender","Vassal","Workshop"],m=function(e){return function(a){return a.path=e.filter((function(e){return e.includes(a.name)}))[0],a}},h=(c=t(15)).keys().map(c),y=["treasure","victory"],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{victory:u.victory.map(m(h)),treasure:u.treasure.map(m(h)),action:u.action.map(m(h)).filter((function(a){return e.includes(a.name)}))}},g=t(58),v=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=["red","blue","orange","green"],j=["actions","cards","buys","treasure"],E=function(e,a,t,c,n){var s=c||0===c?c:a?a.length:1,i=a&&a[0].end?a[0].end:t||"plays";return[r.a.createElement("div",{className:"log",key:"log".concat(Object(g.a)().slice(0,8))},r.a.createElement("p",{className:"".concat(a?"":"turn-log")},a?n?"\u2022":"":r.a.createElement("span",null,"Turn ",e.turn," -\xa0"),r.a.createElement("span",{className:"".concat(b[e.turnPlayer-1])},"P",e.player),a?r.a.createElement("span",null,"\xa0",i," ",!a||"Action"!==a[0].name&&"Buy"!==a[0].name&&"Coin"!==a[0].name?"":"+",r.a.createElement("span",{className:"Coin"===a[0].name?"coin":""},a&&a[0].end?"their":1!==s||n?s:"a"),r.a.createElement("span",{className:"".concat(a[0].type,"-text")},"\xa0","Coin"===a[0].name?"":r.a.createElement("span",null,a[0].name),1!==s&&"Treasure"!==a[0].type&&"Coin"!==a[0].name?"s":"")):""))]},S=function(e,a,t,c){var n=[];return n=n.concat(E(e,a,t,c)),a&&"Action"===a[0].type&&"buys"!==t&&j.forEach((function(t){var c="cards"===t?"draws":"gets",r="treasure"===t?"Coin":v(t).slice(0,-1),s="cards"===t&&a&&isNaN(a[0].cards);a[0][t]&&!s&&(n=n.concat(E(e,[Object(d.a)({},a[0],{name:r})],c,a[0][t],!0)))})),n},O=function(e){for(var a,t,c=Object(o.a)(e),n=c.length;0!==n;)t=Math.floor(Math.random()*n),a=c[n-=1],c[n]=c[t],c[t]=a;return c},T=function(e,a){var t=0;return e.forEach((function(e){t=e[a]?t+e[a]:t})),t},k=function(e,a){return e.map((function(e){return e.type===a})).includes(!0)},N=function(e,a){return[a.concat(S(e,[{name:"Buy Phase",end:"enters"}])),"Buy",0]},C=function(e){if(!e.actions||!k(e.hand,"Action")){var a=N(e.gameState,e.logs),t=Object(l.a)(a,3);e.logs=t[0],e.phase=t[1],e.actions=t[2]}return Object(d.a)({},e,{discardTrashQueue:[],discardTrashState:!1})},x=function(e,a,t){var c=Object(o.a)(a),n=c.splice(0,e),r=Object(o.a)(t);return a.length<e&&(c=c.concat(O(r)),r=[],n=n.concat(c.splice(0,e-n.length))),[n,c,r]},M=function(e,a,t,c){var n=Object(o.a)(t),r=n.findIndex((function(a){return a===e})),s=n.splice(r,a);return[n,Object(o.a)(c).concat(s),s]},A=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),c=t[0],s=t[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),d=o[0],u=o[1],p=e.live&&!e.card.empty&&!e.supply&&("Treasure"===e.card.type||e.discardTrash);return Object(n.useEffect)((function(){u(e.altKey)}),[e.altKey]),r.a.createElement("div",{className:"card-info ".concat(e.card.empty||e.queued.includes(e.card)?"transparent":"")},e.count>1||e.supply||e.queued.includes(e.card)?r.a.createElement("p",{onClick:function(a){if(p){var t=e.limit-e.queued.length,c=t>e.count?e.count:t;e.onClick(e.card,c),a.stopPropagation()}},className:"card-stack".concat(p?"-live":"")},e.card.empty?0:e.count):"",r.a.createElement("div",{className:"card ".concat(e.card.type," ").concat("Curse"===e.card.name?"curse":""," ").concat(e.live&&!e.card.empty?"live":""),onClick:function(){e.live&&!e.card.empty&&e.onClick(e.card,1,e.destination?e.destination:!!e.supply)},onMouseOver:function(){s(!0)},onMouseOut:function(){s(!1)}},r.a.createElement("p",{className:"card-top"},e.card.name),r.a.createElement("div",{className:"card-btm"},r.a.createElement("p",{className:"card-side"},e.card.cost),r.a.createElement("p",null,e.card.type),r.a.createElement("p",{className:"card-side"},"\xa0")),r.a.createElement("div",{className:"full-card-wrapper ".concat(e.stacked?"lower-card":"")},r.a.createElement("div",{className:"full-card ".concat(e.card.type," ").concat(c&&d?"":"hidden"," ").concat(e.live?"full-card-live":""," ").concat("Curse"===e.card.name?"curse":"")},r.a.createElement("div",{className:"card-top"},r.a.createElement("p",null,e.card.name),r.a.createElement("div",{className:"".concat("Action"===e.card.type?"action":"card","-image"),style:{backgroundImage:"url(".concat(e.card.path,")")}}),"Action"===e.card.type?r.a.createElement("div",{className:"card-instructions"},r.a.createElement("div",{className:"perks"},["cards","actions","buys","treasure"].map((function(a){var t="treasure"===a?r.a.createElement("span",{className:"coin"},e.card[a]):e.card[a]>1?v(a):v(a).slice(0,-1);return e.card[a]&&!isNaN(e.card[a])&&e.card.hidden!==a?r.a.createElement("p",{key:a},"+",r.a.createElement("span",null,"treasure"!==a?e.card[a]:""," ",t)):""}))),r.a.createElement("div",{className:"instructions"},function(){var a=e.card.instructions?e.card.instructions:"";if(a.includes("coin-")){var t=(a=a.split("coin-"))[1].length>1?a[1].split(" "):[a[1]],c=a[0],n=t.shift();t=t.length>0?t.join(" "):"",a=r.a.createElement("div",null,c,r.a.createElement("span",{className:"coin"},n)," ",t)}return a}())):""),r.a.createElement("div",{className:"card-btm"},r.a.createElement("p",{className:"card-side"},e.card.cost),r.a.createElement("p",null,e.card.type),r.a.createElement("p",{className:"card-side"},"\xa0"))))))},w=function(e){return function(a,t){var c=0;return a[e]>t[e]?c=1:a[e]<t[e]&&(c=-1),c}},P=function(e){var a=[e.cards],t=1,c=[[],[],[]];if(e.sort){a[0].sort(w("name")),a[0].sort(w("type"));var n=a[0].filter((function(e){return"Action"===e.type})).sort(w("cost")),s=a[0].filter((function(e){return"Treasure"===e.type})).sort(w("cost")),i=a[0].filter((function(e){return"Victory"===e.type})).sort(w("cost"));a=e.supply?[s,i,n]:[n,s,i]}a.forEach((function(a,n){a.forEach((function(s,i){var o=e.phase===s.type&&!e.supply||"Buy"===e.phase&&"Treasure"===s.type&&!e.supply||("Buy"===e.phase||"supply"===e.phase)&&e.coin-e.coinMod>=s.cost&&e.supply||e.discardTrashState;if(a[i+1]&&a[i+1].name===s.name)t++;else{var d=e.cardQueue?e.cardQueue:[],l=Number.MAX_SAFE_INTEGER;if(e.discardTrashState&&!isNaN(e.discardTrashState.amount)&&(l=parseInt(e.discardTrashState.amount)),d.length>0){var u=0;d.forEach((function(e){e.name===s.name&&(u+=1)})),o=(t-=u)>0&&d.length<l}e.restriction&&(o=o&&(e.restriction===s.type||e.restriction===s.subType)),e.actionSupply&&(o=o&&e.supply),c[n].push(r.a.createElement("div",{key:"card".concat(n).concat(i),className:"inline"},r.a.createElement(A,{altKey:e.altKey,card:s,live:!!e.live||o,count:t,stacked:e.stacked,onClick:e.onClick,supply:e.supply,queued:d,limit:l,discardTrash:e.discardTrashState,destination:!!e.actionSupply&&e.actionSupply.destination}))),t=1}}))}));var o=c[0].concat(c[1]).concat(c[2]),d=e.title?r.a.createElement("p",{className:"red top-spaced"},e.title," (",e.cards.length,")"):"";return e.stacked?c.map((function(e,a){return r.a.createElement("div",{key:"stack".concat(a),className:"stack"},e)})):e.supply?c.map((function(e,a){return r.a.createElement("div",{key:"supply".concat(a),className:"supply"},e)})):r.a.createElement("div",null,d,r.a.createElement("div",{className:"Discard"===e.title?"discard-stack":""},o))},B=function(e){return r.a.createElement("div",null,r.a.createElement(P,{altKey:e.altKey,onClick:e.accept,cards:e.cards,live:e.live,title:e.live?"You may play":"To ".concat(e.buttonText)}),r.a.createElement("div",{className:"game-button start-button live",onClick:e.decline},v(e.buttonText)))},D=function(e,a,t,c){var n,s=[],i=!1;t.logs=t.logs.concat(S(t.gameState,[e])),t.actions--;var o=M(e,a,t.hand,t.inPlay),u=Object(l.a)(o,3);if(t.hand=u[0],t.inPlay=u[1],n=u[2],t.treasure+=T(n,"treasure"),e.actions&&(t.actions+=e.actions),e.buys&&(t.buys+=e.buys),e.cards){var p=x(e.cards,t.deck,t.discard),m=Object(l.a)(p,3);s=m[0],t.deck=m[1],t.discard=m[2],t.hand=t.hand.concat(s)}var h=!!e.discardTrash&&function(e){var a=e.discardTrash.split(" "),t=a[1],c="";return t.includes("|")&&(c=(t=t.split("|"))[1],t=t[0]),t=isNaN(t)?t:parseInt(t),{card:e,type:a[0],amount:t,modifier:c,next:a[2]?[a[2],e[a[2]]]:[],restriction:a[3]}}(e),y=!k(t.hand,"Action");if(h)if(h.next&&"auto"===h.next[0]){var f=function(e,a,t,c){var n=[{name:"Card".concat(t.modifier?" from ".concat(t.modifier):"")}];if(t.modifier&&"up-to"!==t.modifier){var s=e[t.modifier].split(" ");switch(s={index:s[0],next:s[1],type:s[2]},t.modifier){case"deck":a.deck.length<1&&(a=Object(d.a)({},a,{deck:a.discard,discard:[]}));var i=a.deck.splice(s.index,t.amount),o=function(){a.discard=a.discard.concat(i),a.logs=a.logs.concat(E(a.gameState,n,"discards",1,!0))};if("modal"===s.next){var l=s.type===i[0].type;l?(a.actions++,a.menuScreen=r.a.createElement(B,{cards:i,accept:function(){a.menuScreen=null,a.hand=a.hand.concat(i[0]),a=D(i[0],1,a,c),c.setTurnState(a)},decline:function(){a.actions--,0===(a=C(a)).actions&&c.setPhase("Buy"),a.hand.splice(a.hand.findIndex((function(e){return e===i[0]})),1);var e=a.logs.pop();a=Object(d.a)({},a,{discard:a.discard.concat(i),logs:a.logs.concat(E(a.gameState,n,"discards",1,!0)).concat(e),menuScreen:null}),c.setTurnState(a),c.setDiscardTrashState(!1)},buttonText:t.type,live:l})):o()}else o()}}else{var u="discards",p=a.hand.findIndex((function(e){return e.name===t.restriction}));-1===p?(a.coinMod+=3,a.logs.pop()):("discard"===t.type?a.discard=a.discard.concat(a.hand.splice(p,t.amount)):(a.trash=a.trash.concat(a.hand.splice(p,t.amount)),u="trashes"),a.logs=a.logs.concat(E(a.gameState,n,u,t.amount,!0)))}var m=!k(a.hand,"Action");return[a,m]}(e,t,h,c),g=Object(l.a)(f,2);t=g[0],y=g[1]}else y=!1,c.setDiscardTrashState(h);else if(e.supply){var v=e.supply.split(" ");i={treasure:t.treasure,count:1,destination:v[1]?v[1]:"discard"},t.treasure=v[0]}var b=!h||!(!h.next||"auto"!==h.next[0]);if(b=!t.menuScreen&&b,(!t.actions||y)&&b&&!i){var j=N(t.gameState,t.logs),O=Object(l.a)(j,3);t.logs=O[0],t.phase=O[1],t.actions=O[2]}return c.setActionSupply(i),t},Q=function(e){var a=document.getElementById("log-sticker");return Object(n.useEffect)((function(){a&&a.scrollIntoView()}),[e.logs,a]),r.a.createElement("div",{className:"logs"},r.a.createElement("p",{className:"log-title"},"Log"),r.a.createElement("div",{className:"breakline"}),r.a.createElement("div",{className:"log-readout"},e.logs.length>1?e.logs:r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{id:"log-sticker"})))},V=function(e){return r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"hidden"},"VP ",r.a.createElement("span",{className:"red"},e.victoryPoints)," |\xa0"),r.a.createElement("span",null,"Action ",r.a.createElement("span",{className:"red"},e.actions)," |\xa0"),r.a.createElement("span",null,"Buys ",r.a.createElement("span",{className:"red"},e.buys)," |\xa0"),r.a.createElement("span",null,"Coin ",r.a.createElement("span",{className:"coin"},e.treasure-e.bought-e.coinMod)," "))},I=function(e){return r.a.createElement("div",{className:"trash game-button".concat(e.trash.length>0?" active":""),onClick:function(){e.trash.length>0&&(e.setModalContent([e.trash,"Trash"]),e.setShowModal(!0))}},"Trash (",e.trash.length,")")},G=function(e,a,t){return e.filter((function(e){return e[a]===t})).length},K=function(e){return r.a.createElement("div",{className:"button-display"},r.a.createElement("div",null,r.a.createElement("div",{className:"game-button red"},e.phase?"Your Turn - ".concat(e.phase," Phase"):"P2's Turn"),r.a.createElement("p",{className:"instructions red"},function(e,a,t,c){var n="";if(t){var r=t.modifier?"".concat(t.modifier.split("-").join(" ")," "):"",s=t.amount&&isNaN(t.amount)?"(s)":t.amount>1?"s":"";n="Select ".concat(r).concat(t.amount," card").concat(s).concat(c?"":" to ".concat(t.type))}else n=c?"Choose a Card":"Buy"===e?"Choose Cards to Buy (".concat(a,")"):"Choose Actions to play";return n}(e.phase,e.buys,e.discardTrashState,e.actionSupply),"\xa0"),e.actionSupply?"":r.a.createElement("div",null,r.a.createElement("div",{className:e.discardTrashState||!e.phase?"hidden":G(e.hand,"type","Treasure")>0&&"Buy"===e.phase?"game-button live":"button-space",onClick:e.playAllTreasure},G(e.hand,"type","Treasure")>0&&"Buy"===e.phase?"Play All Treasure (".concat(G(e.hand,"type","Treasure"),")"):" "),r.a.createElement("div",{className:"game-button live".concat(e.discardTrashState||!e.phase?"":" top-spaced"),onClick:e.discardTrashState?e.discardTrashCards:e.nextPhase},e.discardTrashState?"Confirm Card".concat(isNaN(e.discardTrashState.amount)||e.discardTrashState.amount>1?"s":""," to ").concat(e.discardTrashState.type," (").concat(e.discardTrashQueue.length,")"):e.phase?"End ".concat(e.phase," Phase"):"Start Turn"),r.a.createElement("div",{className:"game-button live top-spaced ".concat(e.discardTrashState&&e.discardTrashQueue.length>0?"":" hidden"),onClick:function(){e.setDiscardTrashQueue([])}},"Choose different cards"))),r.a.createElement("div",null,r.a.createElement("div",{className:"breakline"}),r.a.createElement("div",{className:"deck"},r.a.createElement("p",null,"Deck (",e.deck.length,")")),r.a.createElement("div",{className:"deck ".concat(e.discard.length>0?"active":""),onClick:function(){e.discard.length>0&&(e.setModalContent([e.discard,"Discard"]),e.setShowModal(!0))}},r.a.createElement("p",null,"Discard (",e.discard.length,")"))))},W=function(e){return r.a.createElement("div",{style:{display:e.show?"flex":"none"},className:"modal-bg",onClick:function(){return e.setShow(!1)}},r.a.createElement("div",{className:"modal-box",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"modal-top-row"},e.close?r.a.createElement("div",{className:"x-close-button",onClick:function(){return e.setShow(!1)}},"x"):""),r.a.createElement("div",{className:"modal-content"},e.children)))},L=function(e){return r.a.createElement(W,{close:!0,show:e.showModal,setShow:e.setShowModal,children:r.a.createElement(P,{altKey:e.altKey,cards:e.modalContent[0],title:e.modalContent[1]})})},R=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},e.phaseTitle),e.start?r.a.createElement("h1",null,"Dominion"):r.a.createElement("p",null,e.victory," Victory Points!"),r.a.createElement("div",{className:"game-button start-button live",onClick:e.onClick},e.button))};t(55);var _=function(){var e=Object(n.useState)(),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],m=i[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),b=v[0],j=v[1],A=Object(n.useState)([]),w=Object(l.a)(A,2),B=w[0],G=w[1],_=Object(n.useState)([[]]),F=Object(l.a)(_,2),Y=F[0],q=F[1],H=Object(n.useState)(!1),J=Object(l.a)(H,2),U=J[0],X=J[1],$=Object(n.useState)(!1),z=Object(l.a)($,2),Z=z[0],ee=z[1],ae=Object(n.useState)([]),te=Object(l.a)(ae,2),ce=te[0],ne=te[1],re=Object(n.useState)({turn:0,player:1,turnPlayer:1}),se=Object(l.a)(re,2),ie=se[0],oe=se[1],de=Object(n.useState)([]),le=Object(l.a)(de,2),ue=le[0],pe=le[1],me=Object(n.useState)([]),he=Object(l.a)(me,2),ye=he[0],fe=he[1],ge=Object(n.useState)([]),ve=Object(l.a)(ge,2),be=ve[0],je=ve[1],Ee=Object(n.useState)([]),Se=Object(l.a)(Ee,2),Oe=Se[0],Te=Se[1],ke=Object(n.useState)(0),Ne=Object(l.a)(ke,2),Ce=Ne[0],xe=Ne[1],Me=Object(n.useState)([]),Ae=Object(l.a)(Me,2),we=Ae[0],Pe=Ae[1],Be=Object(n.useState)([]),De=Object(l.a)(Be,2),Qe=De[0],Ve=De[1],Ie=Object(n.useState)(0),Ge=Object(l.a)(Ie,2),Ke=Ge[0],We=Ge[1],Le=Object(n.useState)(0),Re=Object(l.a)(Le,2),_e=Re[0],Fe=Re[1],Ye=Object(n.useState)(0),qe=Object(l.a)(Ye,2),He=qe[0],Je=qe[1],Ue=Object(n.useState)(0),Xe=Object(l.a)(Ue,2),$e=Xe[0],ze=Xe[1],Ze=Object(n.useState)(),ea=Object(l.a)(Ze,2),aa=ea[0],ta=ea[1],ca=Object(n.useState)(),na=Object(l.a)(ca,2),ra=na[0],sa=na[1],ia=function(){var e=O(function(){var e=[];return y.forEach((function(a){for(var t=0;t<("treasure"===a?7:3);t++)e.push(f()[a][0])})),e}());sa(T(e,"victory")),fe(e.splice(0,5)),pe(e),Ve(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=y.concat("action"),t=[],c=function(a){f(e)[a].forEach((function(e,c){for(var n="treasure"===a?20*(3-c):"action"===a||"Curse"===e.name?10:8,r=0;r<n;r++)t.push(e)}))};return a.forEach(c),t}(p)),Te([]),je([]),ne([]),Pe([]),ua(null),c(null),ta(0),Fe(0),ze(0),oe(Object(d.a)({},ie,{turn:1}))},oa=Object(n.useState)(r.a.createElement(R,{onClick:ia,phaseTitle:"Let's Play",start:!0,button:"Start Game"})),da=Object(l.a)(oa,2),la=da[0],ua=da[1],pa={gameState:ie,hand:Object(o.a)(ye),deck:Object(o.a)(ue),discard:Object(o.a)(Oe),trash:Object(o.a)(we),inPlay:Object(o.a)(be),logs:Object(o.a)(ce),supply:Object(o.a)(Qe),discardTrashQueue:Object(o.a)(B),discardTrashState:!!b&&Object(d.a)({},b),actions:He,buys:$e,treasure:_e,phase:t,menuScreen:la,coinMod:Ce},ma=function(e,a,n){pa.treasure=T(be,"treasure");var s=t===e.type?1:a;switch(t){case"Action":var i={setDiscardTrashState:j,setPhase:c,setActionSupply:ee,setTurnState:ha};if(e.type===t)pa=D(e,s,pa,i);else{var u=N(ie,pa.logs),p=Object(l.a)(u,3);pa.logs=p[0],pa.phase=p[1],pa.actions=p[2]}break;case"Buy":var m=$e,h=ra;if(n){var y,f=M(e,1,Qe,pa.discard),v=Object(l.a)(f,3);pa.supply=v[0],pa.discard=v[1],y=v[2];var b=pa.supply.filter((function(a){return a.name===e.name})).length;if(h=e.victory?h+e.victory:h,!b&&(ta(aa+1),y=[Object(d.a)({},y[0],{empty:!0})],pa.supply=pa.supply.concat(y),"Province"===e.name||2===aa)){Ve(pa.supply),oe(Object(d.a)({},ie,{turn:0})),pa.menuScreen=r.a.createElement(R,{onClick:ia,phaseTitle:"Game Over",victory:h,button:"Play Again"});break}Ve(pa.supply),We(Ke+e.cost),m-=1,pa.logs=pa.logs.concat(S(ie,y,"buys"))}else if("Treasure"===e.type){var E,O=M(e,s,ye,be),C=Object(l.a)(O,3);pa.hand=C[0],pa.inPlay=C[1],E=C[2],pa.treasure+=T(E,"treasure"),pa.logs=pa.logs.concat(S(ie,[e],null,a))}else m=0;if(m<1||_e-Ke-e.cost<1&&n){var A=Object(o.a)(ue);pa=Object(d.a)({},pa,{inPlay:[],discard:pa.discard.concat(be).concat(ye),hand:A.splice(0,5)}),m=0;var w=x(5,pa.deck,pa.discard),P=Object(l.a)(w,3);pa.hand=P[0],pa.deck=P[1],pa.discard=P[2],pa=Object(d.a)({},pa,{actions:0,treasure:0,coinMod:0,phase:null,logs:pa.logs.concat(S(ie,[{name:"turn",end:"ends"}]))}),We(0),oe(Object(d.a)({},ie,{turn:ie.turn+1}))}pa.buys=m,sa(h);break;default:var B=1===ie.turn&&1===ie.turnPlayer?[]:[r.a.createElement("div",{key:"log".concat(Object(g.a)().slice(0,8)),className:"spacer"})];if(pa.logs=pa.logs.concat(B.concat(S(ie))),pa.buys=1,k(ye,"Action"))pa.actions=1,pa.phase="Action";else{var Q=N(ie,pa.logs),V=Object(l.a)(Q,2);pa.logs=V[0],pa.phase=V[1]}}ha(pa)},ha=function(e){fe(e.hand),pe(e.deck),Te(e.discard),Pe(e.trash),je(e.inPlay),ne(e.logs),Ve(e.supply),Je(e.actions),ze(e.buys),Fe(e.treasure),c(e.phase),ua(e.menuScreen),xe(e.coinMod)};return window.onkeydown=function(e){18===e.keyCode?X(!0):27===e.keyCode?m(!1):13===e.keyCode&&la&&0===ie.turn&&ia()},window.onkeyup=function(e){18===e.keyCode&&X(!1)},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"supply-market"},r.a.createElement(P,{coin:_e-Ke,phase:Z?"supply":t,onClick:Z?function(e,a,t){pa.logs=pa.logs.concat(E(ie,[Object(d.a)({},e,{name:"discard"===t?e.name:r.a.createElement("span",null,e.name,r.a.createElement("span",{className:"default-text"}," to their ",t))})],"gains",1,!0));var c=M(e,a,Qe,pa[t]),n=Object(l.a)(c,2);pa.supply=n[0],pa[t]=n[1],pa.treasure=Z.treasure,pa=C(pa),ha(pa),G(pa.discardTrashQueue),j(pa.discardTrashState),ee(!1)}:ma,actionSupply:Z,sort:!0,supply:!0,altKey:U,cards:Qe,coinMod:Ce,restriction:b?b.restriction:void 0})),r.a.createElement(Q,{logs:ce}),r.a.createElement(V,{victoryPoints:ra,actions:He,buys:$e,treasure:_e,coinMod:Ce,bought:Ke}),r.a.createElement(I,{trash:we,setModalContent:q,setShowModal:m}),r.a.createElement("div",{className:"in-play"},r.a.createElement(P,{sort:!0,altKey:U,cards:be})),r.a.createElement("div",{className:"combo-mat"}),r.a.createElement(K,{buys:$e,actionSupply:Z,hand:ye,phase:t,discardTrashState:b,discardTrashQueue:B,setDiscardTrashQueue:G,deck:ue,setModalContent:q,setShowModal:m,discard:Oe,playAllTreasure:function(){var e=ye.filter((function(e){return"Treasure"===e.type})),a=Object(o.a)(be).concat(e),t=e.filter((function(e,a,t){return t.indexOf(e)===a})),c=ye.filter((function(e){return"Treasure"!==e.type})),n=Object(o.a)(ce);t.forEach((function(a){n=n.concat(S(ie,e.filter((function(e){return a.name===e.name}))))})),Fe(T(a,"treasure")),je(a),fe(c),ne(n)},discardTrashCards:function(){if(B.length>0){var e="discards";B.forEach((function(e){pa.hand.splice(pa.hand.findIndex((function(a){return a===e})),1)})),"discard"===pa.discardTrashState.type?(pa.discard=pa.discard.concat(B),Te(pa.discard)):(e="trashes",pa.trash=pa.trash.concat(B),Pe(pa.trash)),pa.logs=pa.logs.concat(E(ie,[{name:"card"}],e,B.length,!0)),pa=pa.discardTrashState.next.length>0?function(e,a){var t=e.discardTrashState.next[0],c=e.treasure;switch(t){case"draw":var n,r=isNaN(e.discardTrashState.next[1])?e.discardTrashQueue.length:e.discardTrashState.next[1],s=x(r,e.deck,e.discard),i=Object(l.a)(s,3);n=i[0],e.deck=i[1],e.discard=i[2],e=Object(d.a)({},e,{hand:e.hand.concat(n),logs:e.logs.concat(E(e.gameState,[{name:"card"}],"draws",e.discardTrashQueue.length,!0))}),e=C(e);break;case"supply":var o=e.discardTrashState.card.supply.split(" ");c="discardTrash"===o[0]?e.discardTrashQueue[0].cost+parseInt(o[1]):o[0],a({treasure:e.treasure,count:e.discardTrashState.amount,destination:o[2]?o[2]:"discard"}),e.discardTrashQueue=[]}return Object(d.a)({},e,{treasure:c})}(pa,ee):C(pa)}else pa=C(pa);j(pa.discardTrashState),G(pa.discardTrashQueue),ha(pa)},startGame:ia,nextPhase:ma}),r.a.createElement("div",{className:"hand"},r.a.createElement(P,{altKey:U,stacked:!0,sort:!0,cards:ye,phase:t,onClick:b?function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=M(e,a,ye,B);G(t[1])}:ma,discardTrashState:b,actionSupply:Z,restriction:b?b.restriction:void 0,cardQueue:B})),r.a.createElement(W,{show:!!la,setShow:function(){},children:la}),r.a.createElement(L,{showModal:u,setShowModal:m,altKey:U,modalContent:Y}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.14b36ea1.chunk.js.map