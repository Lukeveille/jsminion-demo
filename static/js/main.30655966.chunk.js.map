{"version":3,"sources":["media sync /^/.//.*$","media/Adventurer.jpg","media/Artisan.jpg","media/Bandit.jpg","media/Bureaucrat.jpg","media/Cellar.jpg","media/Chancellor.jpg","media/Chapel.jpg","media/Copper.jpg","media/Council_Room.jpg","media/Curse.jpg","media/Duchy.jpg","media/Estate.jpg","media/Feast.jpg","media/Festival.jpg","media/Gardens.jpg","media/Gold.jpg","media/Harbinger.jpg","media/Laboratory.jpg","media/Library.jpg","media/Market.jpg","media/Merchant.jpg","media/Militia.jpg","media/Mine.jpg","media/Moat.jpg","media/Moneylender.jpg","media/Poacher.jpg","media/Province.jpg","media/Remodel.jpg","media/Sentry.jpg","media/Silver.jpg","media/Smithy.jpg","media/Spy.jpg","media/Thief.jpg","media/Throne_Room.jpg","media/Vassal.jpg","media/Village.jpg","media/Witch.jpg","media/Woodcutter.jpg","media/Workshop.jpg","data/cardSets.js","utils/capital.js","utils/printLog.js","utils/shuffle.js","utils/countValue.js","utils/hasType.js","utils/enterBuyPhase.js","utils/cleanup.js","utils/rollover.js","utils/moveCard.js","utils/parseActionObject.js","components/Card.js","utils/sorting.js","components/CardDisplay.js","components/ActionModal.js","utils/playAction.js","utils/autoAction.js","components/LogDisplay.js","components/TurnInfo.js","components/TrashButton.js","utils/countCards.js","components/ButtonDisplay.js","utils/instructions.js","components/Modal.js","components/CurrentModal.js","components/StartScreen.js","App.js","utils/next.js","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","files","standardGame","extract","data","file","path","filter","name","includes","cardImages","require","cardTypes","allCards","set","victory","cardList","treasure","action","card","str","charAt","toUpperCase","slice","colors","logActions","generateLog","gameState","cards","cardAction","num","actionLog","size","length","end","className","key","uuidv4","turn","turnPlayer","player","type","newLogs","concat","forEach","descriptor","capital","invalid","isNaN","arr","temp","random","newArr","index","Math","floor","hand","value","total","log","printLog","turnObject","actions","hasType","enterBuyPhase","logs","phase","discardTrashQueue","discardTrashState","deck","discard","newDeck","newHand","splice","newDiscard","shuffle","count","source","dest","newSource","removal","findIndex","sourceCard","movingCards","attribute","actionInfo","split","amount","modifier","parseInt","next","restriction","props","useState","showFullCard","setShowFullCard","altKey","setAltKey","multiPlay","live","empty","supply","modal","discardTrash","useEffect","queued","onClick","trueLimit","limit","stopPropagation","destination","onMouseOver","onMouseOut","cost","stacked","style","backgroundImage","hidden","newText","instructions","remainder","beginning","coinValue","shift","join","instructionText","a","b","compare","stacks","cardElements","sort","sorting","treasures","i","j","correctAction","coin","coinMod","cardQueue","Number","MAX_SAFE_INTEGER","reduce","spentCard","subType","actionSupply","push","Card","title","stack","CardDisplay","accept","decline","buttonText","setters","newCards","rolloverCards","moveCard","inPlay","countValue","buys","rollover","pop","discardTrashObject","parseActionObject","checkHandForActions","buyPhase","buyPhaseModifier","console","actionObject","actionLogName","cardLive","menuScreen","ActionModal","playAction","setTurnState","cleanup","setPhase","endLog","setDiscardTrashState","actionName","trash","checkHand","autoAction","supplyMsg","discardInfo","auto","setActionSupply","logSticker","document","getElementById","scrollIntoView","victoryPoints","bought","setModalContent","setShowModal","alt","message","plural","countCards","playAllTreasure","discardTrashCards","nextPhase","setDiscardTrashQueue","display","show","setShow","event","close","children","Modal","showModal","modalContent","phaseTitle","start","button","App","setLogs","setGameState","setDeck","setHand","setInPlay","setDiscard","setCoinMod","setTrash","setSupply","setBought","setTreasure","setActions","setBuys","emptySupply","setEmptySupply","setVictoryPoints","startGame","startingDeck","startingCards","allCardTypes","allSupplies","setSupplies","cardType","equation","supplies","setMenuScreen","StartScreen","supplyOn","buysLeft","newVictoryPoints","cardBought","cardsLeft","newCard","deckSplit","setSpacer","window","onkeydown","keyCode","onkeyup","undefined","LogDisplay","TurnInfo","TrashButton","ButtonDisplay","newPlay","treasureNames","val","self","indexOf","treasureCard","nextAction","newCoin","newSize","newQueue","CurrentModal","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.30655966.chunk.js","sourcesContent":["var map = {\n\t\"./Adventurer.jpg\": 16,\n\t\"./Artisan.jpg\": 17,\n\t\"./Bandit.jpg\": 18,\n\t\"./Bureaucrat.jpg\": 19,\n\t\"./Cellar.jpg\": 20,\n\t\"./Chancellor.jpg\": 21,\n\t\"./Chapel.jpg\": 22,\n\t\"./Copper.jpg\": 23,\n\t\"./Council_Room.jpg\": 24,\n\t\"./Curse.jpg\": 25,\n\t\"./Duchy.jpg\": 26,\n\t\"./Estate.jpg\": 27,\n\t\"./Feast.jpg\": 28,\n\t\"./Festival.jpg\": 29,\n\t\"./Gardens.jpg\": 30,\n\t\"./Gold.jpg\": 31,\n\t\"./Harbinger.jpg\": 32,\n\t\"./Laboratory.jpg\": 33,\n\t\"./Library.jpg\": 34,\n\t\"./Market.jpg\": 35,\n\t\"./Merchant.jpg\": 36,\n\t\"./Militia.jpg\": 37,\n\t\"./Mine.jpg\": 38,\n\t\"./Moat.jpg\": 39,\n\t\"./Moneylender.jpg\": 40,\n\t\"./Poacher.jpg\": 41,\n\t\"./Province.jpg\": 42,\n\t\"./Remodel.jpg\": 43,\n\t\"./Sentry.jpg\": 44,\n\t\"./Silver.jpg\": 45,\n\t\"./Smithy.jpg\": 46,\n\t\"./Spy.jpg\": 47,\n\t\"./Thief.jpg\": 48,\n\t\"./Throne_Room.jpg\": 49,\n\t\"./Vassal.jpg\": 50,\n\t\"./Village.jpg\": 51,\n\t\"./Witch.jpg\": 52,\n\t\"./Woodcutter.jpg\": 53,\n\t\"./Workshop.jpg\": 54\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 15;","module.exports = __webpack_public_path__ + \"static/media/Adventurer.be939008.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Artisan.4379fa98.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Bandit.9d98a617.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Bureaucrat.c539a1a4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Cellar.963cda6a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Chancellor.333df184.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Chapel.747b0f1e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Copper.25a3a87b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Council_Room.ace064e3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Curse.b70192b7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Duchy.d2c0c766.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Estate.c9ec060f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Feast.e33241fa.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Festival.af0c9e52.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Gardens.2490700a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Gold.df7287e6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Harbinger.f0c114b5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Laboratory.96f3a1b2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Library.07857f88.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Market.70f1cd16.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Merchant.09ba9d2d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Militia.b0b9a045.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Mine.9977d889.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Moat.ab3e6b16.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Moneylender.0480f84b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Poacher.0964e482.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Province.6f81772e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Remodel.fd52d3f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Sentry.7be7f767.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Silver.560c4fbe.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Smithy.3b2a2499.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Spy.a2aa11e0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Thief.031b2660.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Throne_Room.8502a321.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Vassal.0c040b7c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Village.595e2479.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Witch.e45eb845.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Woodcutter.157e926a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Workshop.7873d057.jpg\";","import cardList from './cards.json';\n\nexport const standardGame = [\n  'Village',\n  'Smithy',\n  'Market',\n  // 'Chapel', // trash\n  'Cellar', // discard\n  'Remodel', // trash\n  'Mine', // trash\n  'Moneylender', // trash\n  'Vassal', // discard *modal option\n  'Workshop',\n  'Harbinger',\n  // 'Merchant',\n  // 'Festival',\n  // 'Laboratory'\n];\n\nconst importAll = files => {\n  return files.keys().map(files)\n},\nextract = data => {\n  return file => {\n    file.path = data.filter(name => name.includes(file.name))[0];\n    return file;\n  }\n},\ncardImages = importAll(require.context(`../media`)),\ncardTypes = ['treasure', 'victory'],\nallCards = (set = []) => ({\n  victory: cardList.victory.map(extract(cardImages)),\n  treasure: cardList.treasure.map(extract(cardImages)),\n  action: cardList.action.map(extract(cardImages)).filter(card => ( set.includes(card.name) ))\n});\n\nexport const startingCards = () => {\n  const startingDeck = [];\n  cardTypes.forEach(type => {\n    for (let j = 0; j < (type === 'treasure'? 7 : 3); j++) {\n      startingDeck.push(allCards()[type][0]);\n    };\n  });\n  return startingDeck;\n};\n\nexport const supplies = (set = []) => {\n  const allCardTypes = cardTypes.concat('action'),\n  allSupplies = [],\n  setSupplies = type => {\n    allCards(set)[type].forEach((cardType, i) => {\n      const equation = type === 'treasure'? 20 * (3-i) : type === 'action' || cardType.name === 'Curse'? 10 : 8;\n      for (let j = 0; j < equation; j++) {\n        allSupplies.push(cardType);\n      };\n    });\n  };\n\n  allCardTypes.forEach(setSupplies);\n\n  return allSupplies;\n};\n","export default str => (str.charAt(0).toUpperCase() + str.slice(1));","import React from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport capital from './capital';\n\nexport const spacer = () => ([<div key={`log${uuidv4().slice(0,8)}`} className=\"spacer\"/>]);\n\nconst colors = ['red', 'blue', 'orange', 'green'],\nlogActions = ['actions', 'buys', 'treasure', 'cards'];\n\nexport const generateLog = (gameState, cards, cardAction, num, actionLog) => {\n  const size = num || num === 0? num : cards? cards.length : 1;\n  let action = cards && cards[0].end? cards[0].end : cardAction? cardAction : 'plays';\n\n  return [\n    <div\n      className=\"log\"\n      key={`log${uuidv4().slice(0,8)}`}\n    >\n      <p className={`${cards? '' : 'turn-log'}`}>\n        {cards? actionLog? '•' : '' : <span>Turn {gameState.turn} -&nbsp;</span>}\n        <span className={`${colors[gameState.turnPlayer-1]}`}>P{gameState.player}</span>\n        {cards?\n        <span>\n          &nbsp;{action} {cards && (cards[0].name === 'Action' || cards[0].name === 'Buy' || cards[0].name === 'Coin')? '+' : ''}\n          <span className={cards[0].name === 'Coin'? 'coin' : ''}>{cards && cards[0].end? 'their' : size === 1 && !actionLog? 'a' : size}</span>\n          <span className={`${cards[0].type}-text`}>\n            &nbsp;{cards[0].name === 'Coin'? '' : <span>{cards[0].name}</span>}\n            {size !== 1 && cards[0].type !== 'Treasure' && cards[0].name !== 'Coin'? 's' : ''}\n          </span>\n        </span>\n        :\n        ''}\n      </p>\n    </div>\n  ];\n};\n\nexport default (gameState, cards, cardAction, num) => {\n  let newLogs = [];\n  newLogs = newLogs.concat(generateLog(gameState, cards, cardAction, num));\n  \n  if (cards && cards[0].type === 'Action' && cardAction !== 'buys') {\n    logActions.forEach(action => {\n      const descriptor = action === 'cards'? 'draws' : 'gets',\n      name =  action === 'treasure'? 'Coin': action === 'cards'? action.slice(0, -1) : capital(action).slice(0, -1),\n      invalid = action === 'cards' && cards && isNaN(cards[0].cards);\n      if (cards[0][action] && !invalid) newLogs = newLogs.concat(generateLog(gameState, [{...cards[0], name}], descriptor, cards[0][action], true));\n    })\n  };\n  return newLogs;\n};","export default arr => {\n  const newArr = [...arr];\n  let index = newArr.length, temp, random;\n  while (0 !== index) {\n    random = Math.floor(Math.random() * index);\n    index -= 1;\n    temp = newArr[index];\n    newArr[index] = newArr[random];\n    newArr[random] = temp;\n  };\n  return newArr;\n};","export default (hand, value) => {\n  let total = 0;\n  hand.forEach(card => {\n    total = card[value]? total + card[value] : total;\n  });\n  return total;\n};","export default (hand, type) => (\n  hand.map(card => (card.type === type? true : false)).includes(true)\n);","import printLog from './printLog';\n\nexport default (gameState, log) => {\n  return [log.concat(printLog(gameState, [{name: 'Buy Phase', end: 'enters'}])), 'Buy', 0];\n};\n","import hasType from './hasType';\nimport enterBuyPhase from './enterBuyPhase';\n\nexport default turnObject => {\n  if (!turnObject.actions || !hasType(turnObject.hand, 'Action')) {\n    [turnObject.logs, turnObject.phase, turnObject.actions] = enterBuyPhase(turnObject.gameState, turnObject.logs);\n  };\n  return {...turnObject, discardTrashQueue: [], discardTrashState: false};\n};\n","import shuffle from './shuffle';\n\nexport default (size, deck, discard) => {\n  let newDeck = [...deck],\n  newHand = newDeck.splice(0,size),\n  newDiscard = [...discard];\n\n  if (deck.length < size) {\n    newDeck = newDeck.concat(shuffle(newDiscard));\n    newDiscard = [];\n    newHand = newHand.concat(newDeck.splice(0, (size - newHand.length)));\n  };\n  return [newHand, newDeck, newDiscard];\n};\n","export default (card, count, source, dest) => {\n  const newSource = [...source],\n  removal = newSource.findIndex(sourceCard => (sourceCard === card)),\n  movingCards = newSource.splice(removal, count),\n  newDest = [...dest].concat(movingCards);\n  return [newSource, newDest, movingCards];\n};\n","export default (card, attribute) => {\n  let actionInfo = card[attribute].split(' '),\n  amount = actionInfo[1],\n  modifier = '',\n  index= '';\n  if (amount.includes('|')) {\n    amount = amount.split('|');\n    modifier = amount[1];\n    amount = amount[0];\n  };\n  if (amount.includes('[')) {\n    amount = amount.split('[');\n    index = amount[1];\n    amount = '';\n  };\n  amount = isNaN(amount)? amount : parseInt(amount);\n  return {\n    card,\n    type: actionInfo[0],\n    amount,\n    index,\n    modifier,\n    next: actionInfo[2]? [actionInfo[2], card[actionInfo[2]]] : [],\n    restriction: actionInfo[3]\n  };\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport capital from '../utils/capital';\n\nexport default props => {\n  const [showFullCard, setShowFullCard] = useState(false),\n  [altKey, setAltKey] = useState(false),\n  types = ['cards', 'actions', 'buys', 'treasure'],\n  instructionText = () => {\n    let newText = props.card.instructions? props.card.instructions : '';\n    if (newText.includes('coin-')) {\n      newText = newText.split(\"coin-\");\n\n      let remainder = newText[1].length > 1? newText[1].split(' ') : [newText[1]];\n      const beginning = newText[0],\n      coinValue = remainder.shift();\n\n      remainder = remainder.length > 0? remainder.join(' ') : '';\n      newText = <div>{beginning}<span className='coin'>{coinValue}</span> {remainder}</div>\n    };\n    return newText;\n  },\n  multiPlay = (props.live && !props.card.empty && !props.supply && !props.modal) && (props.card.type === 'Treasure' || props.discardTrash);\n\n  useEffect(() => {\n    setAltKey(props.altKey)\n  }, [props.altKey]);\n\n  return <div className={`card-info ${props.card.empty || props.queued.includes(props.card)? 'transparent' : ''}`}>\n    {props.count > 1 || props.supply || props.queued.includes(props.card)? <p\n      onClick={e => {\n        if (multiPlay) {\n          const trueLimit = props.limit - props.queued.length,\n          count = trueLimit > props.count? props.count : trueLimit;\n          props.onClick(props.card, count);\n          e.stopPropagation();\n        }\n      }}\n      className={`card-stack${multiPlay? '-live' : ''}`}\n    >\n      {props.card.empty? 0 : props.count}\n    </p> : ''}\n    <div\n      className={`card ${props.card.type} ${props.card.name === 'Curse'? 'curse' : ''} ${props.live && !props.card.empty? 'live' : ''}`}\n      onClick={() => {\n        if (props.live && !props.card.empty) {\n          props.onClick(props.card, 1, props.destination? props.destination : props.supply? true : false);\n        };\n      }}\n      onMouseOver={() => {\n        setShowFullCard(true);\n      }}\n      onMouseOut={() => {\n        setShowFullCard(false);\n      }}\n    >\n      <p className=\"card-top\">{props.card.name}</p>\n      <div className=\"card-btm\">\n        <p className=\"card-side\">{props.card.cost}</p>\n        <p>{props.card.type}</p>\n        <p className=\"card-side\">&nbsp;</p>\n      </div>\n      <div className={`full-card-wrapper ${props.stacked? 'lower-card' : ''}`}>\n        <div className={`full-card ${props.card.type} ${showFullCard && altKey? '' : 'hidden'} ${props.live? 'full-card-live' : ''} ${props.card.name === 'Curse'? 'curse' : ''}`}>\n          <div className=\"card-top\">\n            <p>{props.card.name}</p>\n            <div\n              className={`${props.card.type === 'Action'? 'action' : 'card'}-image`}\n              style={{\n                backgroundImage: `url(${props.card.path})`\n              }}\n            />\n            {props.card.type === 'Action'? <div className=\"card-instructions\">\n              <div className=\"perks\">\n                {types.map(type => {\n                  const name = type === 'treasure'? <span className='coin'>{props.card[type]}</span> : props.card[type] > 1? capital(type) : capital(type).slice(0, -1);\n                  return props.card[type] && !isNaN(props.card[type]) && props.card.hidden !== type? <p key={type}>+<span>{type !== 'treasure'? props.card[type] : ''} {name}</span></p> : ''\n                })}\n              </div>\n              <div className=\"instructions\">\n                {instructionText()}\n              </div>\n            </div> : ''}\n          </div>\n          <div className=\"card-btm\">\n            <p className=\"card-side\">{props.card.cost}</p>\n            <p>{props.card.type}</p>\n            <p className=\"card-side\">&nbsp;</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n};\n","export default type => {\n  return (a, b) => {\n    let compare = 0;\n    if (a[type] > b[type]) {\n      compare = 1;\n    } else if (a[type] < b[type]) {\n      compare = -1;\n    };\n    return compare;\n  };\n};\n","import React from 'react';\nimport Card from './Card';\nimport sorting from '../utils/sorting';\n\nexport default props => {\n  let stacks = [props.cards],\n  count = 1;\n  const cardElements = [[], [], []];\n  if (props.sort) {\n    stacks[0].sort(sorting('name'));\n    stacks[0].sort(sorting('type'));\n    \n    const actions = stacks[0].filter(card => (card.type === 'Action')).sort(sorting('cost')),\n    treasures = stacks[0].filter(card => (card.type === 'Treasure')).sort(sorting('cost')),\n    victory = stacks[0].filter(card => (card.type === 'Victory')).sort(sorting('cost'));\n\n    stacks = props.supply? [treasures, victory, actions] : [actions, treasures, victory];\n  };\n\n  stacks.forEach((cards, i) => {\n    cards.forEach((card, j) => {\n      let correctAction = (\n        (props.phase === card.type && !props.supply) ||\n        (props.phase === 'Buy' && card.type === 'Treasure' && !props.supply) ||\n        ((props.phase === 'Buy' || props.phase === 'supply') && props.coin - props.coinMod >= card.cost && props.supply) ||\n        props.discardTrashState\n      );\n      \n      if (cards[j+1] && cards[j+1].name === card.name) {\n        count++;\n      } else {\n        const cardQueue = props.cardQueue? props.cardQueue : [];\n\n        let limit = Number.MAX_SAFE_INTEGER;\n\n        if (props.discardTrashState && !isNaN(props.discardTrashState.amount)) limit = parseInt(props.discardTrashState.amount);\n\n        if (cardQueue.length > 0) {\n          let reduce = 0;\n          cardQueue.forEach(spentCard => {\n            if (spentCard.name === card.name) reduce += 1;\n          });\n          count = count - reduce;\n          correctAction = count > 0 && cardQueue.length < limit;\n        };\n        if (props.restriction) {\n          correctAction = correctAction && (props.restriction === card.type || props.restriction === card.subType);\n        };\n        \n        if (props.actionSupply) {\n          correctAction = correctAction && props.supply;\n        };\n\n        cardElements[i].push(\n          <div key={`card${i}${j}`} className=\"inline\">\n            <Card\n              altKey={props.altKey}\n              card={card}\n              live={props.live? true : correctAction}\n              modal={props.modal}\n              count={count}\n              stacked={props.stacked}\n              onClick={props.onClick}\n              supply={props.supply}\n              queued={cardQueue}\n              limit={limit}\n              discardTrash={props.discardTrashState}\n              destination={props.actionSupply? props.actionSupply.destination : false}\n            />\n          </div>\n        );\n        count = 1;\n      };\n    });\n  });\n\n  const allCards = cardElements[0].concat(cardElements[1]).concat(cardElements[2]),\n  title = props.title? <p className=\"red top-spaced\">{props.title} ({props.cards.length})</p> : '';\n\n  return props.stacked?\n  cardElements.map((stack, i) => {\n    return <div key={`stack${i}`} className=\"stack\">{stack}</div>\n  })\n  : props.supply? \n    cardElements.map((stack, i) => {\n      return <div key={`supply${i}`} className=\"supply\">{stack}</div>\n    })\n  :\n  <div>\n    {title}\n    <div className={props.title === 'Discard'? 'discard-stack' : ''}>\n      {allCards}\n    </div>\n  </div>\n};\n","import React from 'react';\nimport capital from '../utils/capital';\nimport CardDisplay from './CardDisplay';\n\nexport default props => {\n  return <div>\n    <CardDisplay\n      altKey={props.altKey}\n      onClick={props.accept}\n      cards={props.cards}\n      live={props.live}\n      title={props.title}\n      modal={true}\n    />\n    <div\n      className=\"game-button start-button live\"\n      onClick={props.decline}\n    >\n      {capital(props.buttonText)}\n    </div>\n  </div>\n};\n","import React from 'react';\nimport { generateLog } from './printLog';\nimport printLog from './printLog';\nimport parseActionObject from './parseActionObject';\nimport autoAction from './autoAction';\nimport moveCard from './moveCard';\nimport countValue from './countValue';\nimport rollover from './rollover';\nimport cleanup from './cleanup';\nimport hasType from './hasType';\nimport enterBuyPhase from './enterBuyPhase';\nimport ActionModal from '../components/ActionModal';\n\nexport default (card, size, turnObject, setters) => {\n  let rolloverCards = [],\n  actionSupply = false,\n  newCards;\n  turnObject.logs = turnObject.logs.concat(printLog(turnObject.gameState, [card]));\n  turnObject.actions--;\n  [turnObject.hand, turnObject.inPlay, newCards] = moveCard(card, size, turnObject.hand, turnObject.inPlay);\n  turnObject.treasure += countValue(newCards, 'treasure');\n  if (card.actions) turnObject.actions += card.actions;\n  if (card.buys) turnObject.buys += card.buys;\n  if (card.cards) {\n    [rolloverCards, turnObject.deck, turnObject.discard] = rollover(card.cards, turnObject.deck, turnObject.discard);\n    if (rolloverCards.length > 0) {\n      turnObject.hand = turnObject.hand.concat(rolloverCards);\n    } else {\n      turnObject.logs.pop();\n    };\n  };\n  const discardTrashObject = card.discardTrash? parseActionObject(card, 'discardTrash') : false;\n  let checkHandForActions = !hasType(turnObject.hand, 'Action');\n  if (card.buyPhase) {\n    // Merchant\n\n    const buyPhaseModifier = parseActionObject(card, 'buyPhase');\n    \n    console.log(buyPhaseModifier)\n\n  }\n  if (discardTrashObject) {\n    if (discardTrashObject.next && discardTrashObject.next[0] === 'auto') {\n      [turnObject, checkHandForActions] = autoAction(card, turnObject, discardTrashObject, setters);\n    } else {\n      checkHandForActions = false;\n      setters.setDiscardTrashState(discardTrashObject);\n    };\n  } else if (card.supply) {\n    const supplyMsg = parseActionObject(card, 'supply');\n    actionSupply = {\n      treasure: turnObject.treasure,\n      count: 1,\n      destination: supplyMsg.next && supplyMsg.next[0]? supplyMsg.next[0] : 'discard'\n    };\n    turnObject.treasure = supplyMsg.amount;\n  } else if (card.discard) {\n    const discardInfo = parseActionObject(card, 'discard');\n\n    switch (discardInfo.type) {\n      case 'modal':\n        if (turnObject.discard.length > 0) {\n          turnObject.menuScreen = (\n            <ActionModal\n              cards={turnObject.discard}\n              accept={card => {\n                [turnObject.discard, turnObject.deck] = moveCard(card, discardInfo.amount, turnObject.discard, turnObject.deck);\n                turnObject.logs = turnObject.logs.concat(generateLog(turnObject.gameState, [{name: 'discard to deck'}], 'moves', discardInfo.amount, true));\n                turnObject.menuScreen = false;\n                turnObject = cleanup(turnObject);\n                setters.setTurnState(turnObject);\n              }}\n              decline={() => {\n                setters.setTurnState({...turnObject, menuScreen: false });\n              }}\n              buttonText={'Decline'}\n              live={true}\n              title={`Choose ${discardInfo.amount} to move from discard to deck`}\n            />\n          );\n        };\n        break;\n      default: break;\n    };\n  };\n  let auto = discardTrashObject? (discardTrashObject.next && discardTrashObject.next[0] === 'auto')? true : false : true;\n  auto = turnObject.menuScreen? false : auto;\n  if ((!turnObject.actions || checkHandForActions) && auto && !actionSupply) {\n    [turnObject.logs, turnObject.phase, turnObject.actions] = enterBuyPhase(turnObject.gameState, turnObject.logs);\n  };\n  setters.setActionSupply(actionSupply);\n  return turnObject;\n};\n","import React from 'react';\nimport ActionModal from '../components/ActionModal';\nimport { generateLog } from './printLog';\nimport hasType from './hasType';\nimport cleanup from './cleanup';\nimport playAction from './playAction';\nimport parseActionObject from './parseActionObject';\n\nexport default (card, turnObject, actionObject, setters) => {\n  const actionLogName = [{name: `card${actionObject.modifier? ` from ${actionObject.modifier}` : ''}`}]\n  if (actionObject.modifier && actionObject.modifier !== 'up-to') {\n    let discardTrash = parseActionObject(card, actionObject.modifier)\n    switch (actionObject.modifier) {\n      case 'deck':\n        if (turnObject.deck.length < 1) turnObject = {...turnObject, deck: turnObject.discard, discard: []};\n        let removal = turnObject.deck.splice(discardTrash.index, actionObject.amount);\n        const discard = () => {\n          turnObject.discard = turnObject.discard.concat(removal);\n          turnObject.logs = turnObject.logs.concat(generateLog(turnObject.gameState, actionLogName, 'discards', 1, true));\n        };\n        if (discardTrash.next[0] === 'modal' && removal.length > 0) {\n          const cardLive = discardTrash.type === removal[0].type,\n          decline = () => {\n            turnObject.actions--;\n            turnObject = cleanup(turnObject);\n            if (turnObject.actions === 0) setters.setPhase('Buy');\n            turnObject.hand.splice(turnObject.hand.findIndex(card => (card === removal[0])), 1);\n            const endLog = turnObject.logs.pop();\n            turnObject = {...turnObject,\n              discard: turnObject.discard.concat(removal),\n              logs: turnObject.logs.concat(generateLog(turnObject.gameState, actionLogName, 'discards', 1, true)).concat(endLog),\n              menuScreen: null\n            };\n            setters.setTurnState(turnObject);\n            setters.setDiscardTrashState(false);\n          },\n          accept = () => {\n            turnObject.menuScreen = null;\n            turnObject.hand = turnObject.hand.concat(removal[0]);\n            turnObject = playAction(removal[0], 1, turnObject, setters);\n            setters.setTurnState(turnObject);\n          };\n          if (cardLive) {\n            turnObject.actions++;\n            turnObject.menuScreen = (\n              <ActionModal\n                cards={removal}\n                accept={accept}\n                decline={decline}\n                buttonText={actionObject.type}\n                live={cardLive}\n                title=\"You may play\"\n              />\n            );\n          } else if (removal.length > 0) {\n            discard();\n          };\n        };\n        break;\n      default: break;\n    };\n  } else {\n    let actionName = 'discards';\n    let removal = turnObject.hand.findIndex(i => (i.name === actionObject.restriction));\n    if (removal === -1) {\n      turnObject.coinMod += 3;\n      turnObject.logs.pop();\n    } else {\n      if (actionObject.type === 'discard') {\n        turnObject.discard = turnObject.discard.concat(turnObject.hand.splice(removal, actionObject.amount));\n      } else {\n        turnObject.trash = (turnObject.trash.concat(turnObject.hand.splice(removal, actionObject.amount)));\n        actionName = 'trashes'\n      };\n      turnObject.logs = turnObject.logs.concat(generateLog(turnObject.gameState, actionLogName, actionName, actionObject.amount, true))\n    };\n  };\n  const checkHand = !hasType(turnObject.hand, 'Action');\n  return [turnObject, checkHand]\n};\n","import React from 'react';\nimport { useEffect } from 'react';\n\nexport default props => {\n  const logSticker = document.getElementById('log-sticker');\n\n  useEffect(() => {\n    if (logSticker) logSticker.scrollIntoView();\n  }, [props.logs, logSticker]);\n\n  return (\n    <div className=\"logs\">\n      <p className=\"log-title\">Log</p>\n      <div className=\"breakline\"/>\n      <div className=\"log-readout\">\n        {props.logs.length > 1? props.logs : <div className=\"spacer\"/>}\n        <div id=\"log-sticker\" />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport default props => (  \n  <div className=\"info\">\n    <span className=\"hidden\">VP <span className='red'>{props.victoryPoints}</span> |&nbsp;</span>\n    <span>Action <span className='red'>{props.actions}</span> |&nbsp;</span>\n    <span>Buys <span className='red'>{props.buys}</span> |&nbsp;</span>\n    <span>Coin <span className='coin'>{props.treasure - props.bought - props.coinMod}</span> </span>\n  </div>\n);\n","import React from 'react';\n\nexport default props => (\n  <div\n    className={`trash game-button${props.trash.length > 0? ' active' : ''}`}\n    onClick={() => {\n      if (props.trash.length > 0) {\n      props.setModalContent([props.trash, 'Trash']);\n        props.setShowModal(true);\n      };\n    }}\n  >\n    Trash ({props.trash.length})\n  </div>\n);\n","export default (hand, attribute, value) => {\n  const handTreasures = hand.filter(card => (card[attribute] === value));\n  return handTreasures.length;\n};\n","import React from 'react';\nimport instructions from '../utils/instructions';\nimport countCards from '../utils/countCards';\n\nexport default props => (\n  <div className=\"button-display\">\n    <div>\n      <div className=\"game-button red\">{props.phase? `Your Turn - ${props.phase} Phase` : `P2's Turn`}</div>\n      <p className=\"instructions red\">{instructions(props.phase, props.buys, props.discardTrashState, props.actionSupply)}&nbsp;</p>\n\n      {props.actionSupply? '' : <div>\n        <div\n          className={props.discardTrashState || !props.phase? 'hidden' : countCards(props.hand, 'type', 'Treasure') > 0 && props.phase === 'Buy'? `game-button live` : 'button-space'}\n          onClick={props.playAllTreasure}\n        >\n          {countCards(props.hand, 'type', 'Treasure') > 0 && props.phase === 'Buy'? `Play All Treasure (${countCards(props.hand, 'type', 'Treasure')})` : ' '}\n        </div>\n\n        <div\n          className={`game-button live${props.discardTrashState || !props.phase? '' : ' top-spaced'}`}\n          onClick={props.discardTrashState? props.discardTrashCards : props.nextPhase}\n        >\n          {props.discardTrashState? `Confirm Card${isNaN(props.discardTrashState.amount) || props.discardTrashState.amount > 1? 's' : ''} to ${props.discardTrashState.type} (${props.discardTrashQueue.length})` : props.phase? `End ${props.phase} Phase` : 'Start Turn'}\n        </div>\n\n        <div\n          className={`game-button live top-spaced ${(props.discardTrashState && props.discardTrashQueue.length > 0)? '' : ' hidden'}`}\n          onClick={() => {props.setDiscardTrashQueue([])}}\n        >\n          {`Choose different cards`}\n        </div>\n      </div>}\n    </div>\n    <div>\n      <div className=\"breakline\"/>\n      <div className=\"deck\">\n        <p>Deck ({props.deck.length})</p>\n      </div>\n      <div\n        className={`deck ${props.discard.length > 0? 'active' : ''}`}\n        onClick={() => {\n          if (props.discard.length > 0) {\n            props.setModalContent([props.discard, 'Discard']);\n            props.setShowModal(true);\n          };\n        }}\n      >\n        <p>Discard ({props.discard.length})</p>\n      </div>\n    </div>\n  </div>\n);\n","export default (phase, buys, action, alt) => {\n  let message = '';\n  if (action) {\n    const modifier = action.modifier? `${action.modifier.split('-').join(' ')} ` : '',\n    plural = action.amount && isNaN(action.amount)? '(s)' : action.amount > 1? 's' : '';\n    message = `Select ${modifier}${action.amount} card${plural}${alt? '' : ` to ${action.type}`}`;\n  } else if (alt) {\n    message = `Choose a Card`;\n  } else if (phase === 'Buy') {\n    message = `Choose Cards to Buy (${buys})`;\n  } else {\n    message = 'Choose Actions to play';\n  };\n  return message;\n};\n","import React from 'react';\n\nexport default props => {\n  return <div\n    style={{display: props.show? 'flex' : 'none' }}\n    className=\"modal-bg\"\n    onClick={() => props.setShow(false)}\n  >\n    <div className=\"modal-box\" onClick={event => event.stopPropagation()}>\n      <div className=\"modal-top-row\">\n        {props.close? <div className=\"x-close-button\" onClick={() => props.setShow(false)}>x</div> : ''}\n      </div>\n      <div className=\"modal-content\">{props.children}</div>\n    </div>\n  </div>\n};\n","import React from 'react';\nimport CardDisplay from './CardDisplay';\nimport Modal from './Modal';\n\nexport default props => {\n  return <Modal\n    close={true}\n    show={props.showModal}\n    setShow={props.setShowModal}\n    children={<CardDisplay altKey={props.altKey} cards={props.modalContent[0]} title={props.modalContent[1]} />}\n  />\n};\n","import React from 'react';\n\nexport default props => (\n  <div>\n    <h2 className=\"title\">{props.phaseTitle}</h2>\n    {props.start? <h1>Dominion</h1> : <p>{props.victory} Victory Points!</p>}\n    <div\n      className=\"game-button start-button live\"\n      onClick={props.onClick}\n    >\n      {props.button}\n    </div>\n  </div>\n);\n","import React from 'react';\nimport { useState } from 'react';\nimport { startingCards, supplies, standardGame } from './data/cardSets';\nimport { generateLog, spacer } from './utils/printLog';\nimport printLog from './utils/printLog';\nimport shuffle from './utils/shuffle';\nimport countValue from './utils/countValue';\nimport hasType from './utils/hasType';\nimport cleanup from './utils/cleanup';\nimport rollover from './utils/rollover';\nimport moveCard from './utils/moveCard';\nimport next from './utils/next';\nimport enterBuyPhase from './utils/enterBuyPhase';\nimport playAction from './utils/playAction';\nimport CardDisplay from './components/CardDisplay';\nimport LogDisplay from './components/LogDisplay';\nimport TurnInfo from './components/TurnInfo';\nimport TrashButton from './components/TrashButton';\nimport ButtonDisplay from './components/ButtonDisplay';\nimport Modal from './components/Modal';\nimport CurrentModal from './components/CurrentModal';\nimport StartScreen from './components/StartScreen';\nimport './styles/App.css';\n\nfunction App() {\n  const player = 1,\n  [phase, setPhase] = useState(),\n  [showModal, setShowModal] = useState(false),\n  [discardTrashState, setDiscardTrashState] = useState(false),\n  [discardTrashQueue, setDiscardTrashQueue] = useState([]),\n  [modalContent, setModalContent] = useState([[]]),\n  [altKey, setAltKey] = useState(false),\n  [actionSupply, setActionSupply] = useState(false),\n  [logs, setLogs] = useState([]),\n  [gameState, setGameState] = useState({turn: 0, player, turnPlayer: 1}),\n  [deck, setDeck] = useState([]),\n  [hand, setHand] = useState([]),\n  [inPlay, setInPlay] = useState([]),\n  [discard, setDiscard] = useState([]),\n  [coinMod, setCoinMod] = useState(0),\n  [trash, setTrash] = useState([]),\n  [supply, setSupply] = useState([]),\n  [bought, setBought] = useState(0),\n  [treasure, setTreasure] = useState(0),\n  [actions, setActions] = useState(0),\n  [buys, setBuys] = useState(0),\n  [emptySupply, setEmptySupply] = useState(),\n  [victoryPoints, setVictoryPoints] = useState(),\n  startGame = () => {\n    const startingDeck = shuffle(startingCards());\n    setVictoryPoints(countValue(startingDeck, 'victory'));\n    setHand(startingDeck.splice(0, 5));\n    setDeck(startingDeck);\n    setSupply(supplies(standardGame));\n    setDiscard([]);\n    setInPlay([]);\n    setLogs([]);\n    setTrash([]);\n    setMenuScreen(null);\n    setPhase(null);\n    setEmptySupply(0);\n    setTreasure(0);\n    setBuys(0);\n    setGameState({...gameState, turn: 1})\n  },\n  [menuScreen, setMenuScreen] = useState(\n    <StartScreen\n      onClick={startGame}\n      phaseTitle={\"Let's Play\"}\n      start={true}\n      button={'Start Game'}\n    />\n  );\n  let turnObject = {\n    gameState,\n    hand: [...hand],\n    deck: [...deck],\n    discard: [...discard],\n    trash: [...trash],\n    inPlay: [...inPlay],\n    logs: [...logs],\n    supply: [...supply],\n    discardTrashQueue: [...discardTrashQueue],\n    discardTrashState: discardTrashState? {...discardTrashState} : false,\n    actions,\n    buys,\n    treasure,\n    phase,\n    menuScreen,\n    coinMod\n  };\n  const playAllTreasure = () => {\n    const treasures = hand.filter(card => (card.type === 'Treasure')),\n    newPlay = [...inPlay].concat(treasures),\n    unique = (val, i, self) => (self.indexOf(val) === i),\n    treasureNames = treasures.filter(unique),\n    newHand = hand.filter(card => (card.type !== 'Treasure'));\n\n    let newLogs = [...logs];\n\n    treasureNames.forEach(treasureCard => {\n      newLogs = newLogs.concat(printLog(gameState, treasures.filter(\n        card => (treasureCard.name === card.name)\n      )));\n    });\n    setTreasure(countValue(newPlay, 'treasure'));\n    setInPlay(newPlay);\n    setHand(newHand);\n    setLogs(newLogs);\n  },\n  gainCard = (card, count, destination) => {\n    turnObject.logs = turnObject.logs.concat(\n      generateLog(\n        gameState,\n        [{...card,\n          name: destination === 'discard'? card.name : <span>{card.name}<span className=\"default-text\"> to their {destination}</span></span>\n        }], 'gains', 1, true\n      )\n    );\n    [turnObject.supply, turnObject[destination]] = moveCard(card, count, supply, turnObject[destination]);\n\n    turnObject.treasure = actionSupply.treasure;\n    turnObject = cleanup(turnObject);\n    \n    setTurnState(turnObject);\n    setDiscardTrashQueue(turnObject.discardTrashQueue);\n    setDiscardTrashState(turnObject.discardTrashState);\n    setActionSupply(false);\n  },\n  discardTrashCard = (card, size = 1) => {\n    let newQueue = moveCard(card, size, hand, discardTrashQueue);\n    setDiscardTrashQueue(newQueue[1]);\n  },\n  discardTrashCards = () => {\n    if (discardTrashQueue.length > 0) {\n      let actionName = 'discards';\n      discardTrashQueue.forEach(card => {\n        turnObject.hand.splice(turnObject.hand.findIndex(i => (i === card)), 1);\n      });\n      if (turnObject.discardTrashState.type === 'discard') {\n        turnObject.discard = turnObject.discard.concat(discardTrashQueue);\n        setDiscard(turnObject.discard);\n      } else {\n        actionName = 'trashes';\n        turnObject.trash = turnObject.trash.concat(discardTrashQueue);\n        setTrash(turnObject.trash);\n      };\n      turnObject.logs = turnObject.logs.concat(generateLog(\n        gameState,\n        [{name: 'card'}],\n        actionName,\n        discardTrashQueue.length,\n        true\n        ));\n        if (turnObject.discardTrashState.next.length > 0) {\n          turnObject = next(turnObject, setActionSupply);\n        } else {\n          turnObject = cleanup(turnObject);\n        };\n      } else {\n        turnObject = cleanup(turnObject);\n      };\n      setDiscardTrashState(turnObject.discardTrashState);\n      setDiscardTrashQueue(turnObject.discardTrashQueue);\n      setTurnState(turnObject);\n    },\n    nextPhase = (card, count, supplyOn) => {\n      turnObject.treasure = countValue(inPlay, 'treasure');\n    const size = phase === card.type? 1 : count;\n\n    switch (phase) {\n      case 'Action':\n        const setters = {\n          setDiscardTrashState,\n          setPhase,\n          setActionSupply,\n          setTurnState\n        };\n        if (card.type === phase) {\n          turnObject = playAction(card, size, turnObject, setters);\n        } else {\n          [turnObject.logs, turnObject.phase, turnObject.actions] = enterBuyPhase(gameState, turnObject.logs);\n        };\n        break;\n      case 'Buy':\n        let buysLeft = buys,\n        newVictoryPoints = victoryPoints;\n\n        if (supplyOn) {\n          let cardBought;\n          [turnObject.supply, turnObject.discard, cardBought] = moveCard(card, 1, supply, turnObject.discard)\n\n          const cardsLeft = turnObject.supply.filter(newCard => newCard.name === card.name).length;\n          newVictoryPoints = card.victory? newVictoryPoints + card.victory : newVictoryPoints;\n\n          if (!cardsLeft) {\n            setEmptySupply(emptySupply + 1);\n            cardBought = [{...cardBought[0], empty: true}];\n            turnObject.supply = turnObject.supply.concat(cardBought);\n            if (card.name === 'Province' || emptySupply === 2) {\n              setSupply(turnObject.supply);\n              setGameState({...gameState, turn: 0})\n              turnObject.menuScreen = (\n                <StartScreen\n                  onClick={startGame}\n                  phaseTitle={\"Game Over\"}\n                  victory={newVictoryPoints}\n                  button={'Play Again'}\n                />\n              );\n              break;\n            };\n          };\n          setSupply(turnObject.supply);\n          setBought(bought + card.cost);\n          buysLeft = buysLeft - 1;\n          turnObject.logs = turnObject.logs.concat(printLog(gameState, cardBought, 'buys'));\n        } else if (card.type === 'Treasure') {\n          let newCards;\n          [turnObject.hand, turnObject.inPlay, newCards] = moveCard(card, size, hand, inPlay);\n          turnObject.treasure += countValue(newCards, 'treasure')\n          turnObject.logs = turnObject.logs.concat(printLog(gameState, [card], null, count));\n        } else {\n          buysLeft = 0;\n        };\n        \n        if (buysLeft < 1 || ((treasure - bought - card.cost) < 1 && supplyOn)) {\n          const deckSplit = [...deck];\n          turnObject = {...turnObject,\n            inPlay: [],\n            discard: turnObject.discard.concat(inPlay).concat(hand),\n            hand: deckSplit.splice(0,5)\n          };\n          buysLeft = 0;\n          [turnObject.hand, turnObject.deck, turnObject.discard] = rollover(5, turnObject.deck, turnObject.discard);\n          turnObject = {...turnObject, \n            actions: 0,\n            treasure: 0,\n            coinMod: 0,\n            phase: null,\n            logs: turnObject.logs.concat(printLog(gameState, [{name: 'turn', end: 'ends'}]))\n          };\n          setBought(0);\n          setGameState({...gameState, turn: gameState.turn + 1});\n        };\n        turnObject.buys = buysLeft;\n        setVictoryPoints(newVictoryPoints);\n        break;\n\n      default:\n        const setSpacer = gameState.turn === 1 && gameState.turnPlayer === 1? [] : spacer();\n        turnObject.logs = turnObject.logs.concat(setSpacer.concat(printLog(gameState)));\n        turnObject.buys =  1;\n        if (hasType(hand, 'Action')) {\n          turnObject.actions = 1;\n          turnObject.phase = 'Action';\n        } else {\n          [turnObject.logs, turnObject.phase] = enterBuyPhase(gameState, turnObject.logs);\n        }\n        break;\n    };\n    setTurnState(turnObject);\n  },\n  setTurnState = turnObject => {\n    setHand(turnObject.hand);\n    setDeck(turnObject.deck);\n    setDiscard(turnObject.discard);\n    setTrash(turnObject.trash);\n    setInPlay(turnObject.inPlay);\n    setLogs(turnObject.logs);\n    setSupply(turnObject.supply);\n    setActions(turnObject.actions);\n    setBuys(turnObject.buys);\n    setTreasure(turnObject.treasure);\n    setPhase(turnObject.phase);\n    setMenuScreen(turnObject.menuScreen);\n    setCoinMod(turnObject.coinMod);\n  };\n\n  window.onkeydown = e => {\n    if (e.keyCode === 18) {\n      setAltKey(true);\n    } else if (e.keyCode === 27) {\n      setShowModal(false);\n    } else if (e.keyCode === 13) {\n      if (menuScreen && gameState.turn === 0) startGame();\n    };\n  };\n  window.onkeyup = e => {\n    if (e.keyCode === 18) setAltKey(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"supply-market\">\n        <CardDisplay\n          coin={treasure - bought}\n          phase={actionSupply? 'supply' : phase}\n          onClick={actionSupply? gainCard : nextPhase}\n          actionSupply={actionSupply}\n          sort={true}\n          supply={true}\n          altKey={altKey}\n          cards={supply}\n          coinMod={coinMod}\n          restriction={discardTrashState? discardTrashState.restriction : undefined}\n        />\n      </div>\n      <LogDisplay logs={logs} />\n      <TurnInfo\n        victoryPoints={victoryPoints}\n        actions={actions}\n        buys={buys}\n        treasure={treasure}\n        coinMod={coinMod}\n        bought={bought}\n      />\n      <TrashButton\n        trash={trash}\n        setModalContent={setModalContent}\n        setShowModal={setShowModal}\n      />\n      <div className=\"in-play\">\n        <CardDisplay sort={true} altKey={altKey} cards={inPlay}/>\n      </div>\n      <div className=\"combo-mat\"></div>\n      <ButtonDisplay\n        buys={buys}\n        actionSupply={actionSupply}\n        hand={hand}\n        phase={phase}\n        discardTrashState={discardTrashState}\n        discardTrashQueue={discardTrashQueue}\n        setDiscardTrashQueue={setDiscardTrashQueue}\n        deck={deck}\n        setModalContent={setModalContent}\n        setShowModal={setShowModal}\n        discard={discard}\n        playAllTreasure={playAllTreasure}\n        discardTrashCards={discardTrashCards}\n        startGame={startGame}\n        nextPhase={nextPhase}\n      />\n      <div className=\"hand\">\n        <CardDisplay\n          altKey={altKey}\n          stacked={true}\n          sort={true}\n          cards={hand}\n          phase={phase}\n          onClick={discardTrashState? discardTrashCard : nextPhase}\n          discardTrashState={discardTrashState}\n          actionSupply={actionSupply}\n          restriction={discardTrashState? discardTrashState.restriction : undefined}\n          cardQueue={discardTrashQueue}\n        />\n      </div>\n      <Modal\n        show={menuScreen? true : false}\n        setShow={() => {}}\n        children={menuScreen}\n      />\n      <CurrentModal\n        showModal={showModal}\n        setShowModal={setShowModal}\n        altKey={altKey}\n        modalContent={modalContent}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import { generateLog } from './printLog';\nimport rollover from './rollover';\nimport cleanup from './cleanup';\nimport parseActionObject from './parseActionObject';\n\nexport default (turnObject, setActionSupply) => {\n  const nextAction = turnObject.discardTrashState.next[0];\n  let newCoin = turnObject.treasure;\n  switch (nextAction) {\n    case 'draw':\n      let rolloverCards;\n      const newSize = !isNaN(turnObject.discardTrashState.next[1])? turnObject.discardTrashState.next[1] : turnObject.discardTrashQueue.length;\n      [rolloverCards, turnObject.deck, turnObject.discard] = rollover(newSize, turnObject.deck, turnObject.discard);\n      turnObject = {...turnObject,\n        hand: turnObject.hand.concat(rolloverCards),\n        logs: turnObject.logs.concat(generateLog(turnObject.gameState, [{name: 'card'}], 'draws', turnObject.discardTrashQueue.length, true))\n      };\n      turnObject = cleanup(turnObject);\n      break;\n    case 'supply':\n      const supplyMsg = parseActionObject(turnObject.discardTrashState.card, 'supply');\n      newCoin = supplyMsg.type === 'discardTrash'? turnObject.discardTrashQueue[0].cost + parseInt(supplyMsg.amount): supplyMsg.amount;\n      setActionSupply({\n        treasure: turnObject.treasure,\n        count: turnObject.discardTrashState.amount,\n        destination: supplyMsg.next && supplyMsg.next[0]? supplyMsg.next[0] : 'discard'\n      });\n      turnObject.discardTrashQueue = [];\n      break;\n    default:\n  };\n  return {...turnObject, treasure: newCoin};\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}